"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[3836],{74047:(e,s,r)=>{r.d(s,{Z:()=>l});r(72791);var t=r(56355),i=r(80184);const l=e=>{let{sizes:s}=e;return(0,i.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,i.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,i.jsx)(t.Qvc,{size:35,style:{color:"green"}}),(0,i.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,i.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,i.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,i.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,i.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",s]})]})})}},33836:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var t=r(78983),i=r(72791),l=r(57689),a=r(9085),d=r(72282),n=r(24846),o=r(61134),c=(r(74047),r(73779)),u=r(80184);const x=e=>{var s,r,l,a,x;let{data:m,onSubmit:p,updateCategoryLoading:g,addCategoryLoading:h,error:j}=e;const[y,b]=(0,i.useState)(null),[v,f]=(0,i.useState)(null),{register:N,handleSubmit:C,setValue:S,formState:{errors:E}}=(0,o.cI)();return(0,i.useEffect)((()=>{if(m)for(const e in m)S(e,m[e])}),[m,S]),(0,u.jsxs)(t.lx,{encType:"multipart/form-data",onSubmit:C(p),children:[(0,u.jsxs)(t.rb,{className:"g-3",children:[(0,u.jsxs)(t.b7,{xs:12,children:[(0,u.jsxs)("label",{children:["Category title ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(t.jO,{type:"text",id:"titleInputField",placeholder:"Enter Category","aria-describedby":"titleInputField",...N("title",{required:{value:!m,message:"Category Name is required"}})}),"required"===(null===E||void 0===E||null===(s=E.title)||void 0===s?void 0:s.type)&&(0,u.jsx)("p",{className:"text-danger",children:E.title.message})]}),(0,u.jsxs)(t.b7,{xs:12,children:[(0,u.jsx)("label",{children:"Description"}),(0,u.jsx)(t.PB,{id:"categoryDescriptionTextareaField",placeholder:"Enter Description","aria-describedby":"categoryDescriptionTextareaField",rows:"3",...N("description",{})}),"required"===(null===E||void 0===E||null===(r=E.description)||void 0===r?void 0:r.type)&&(0,u.jsx)("p",{className:"text-danger",children:E.description.message})]}),(0,u.jsxs)(t.b7,{xs:12,children:[(0,u.jsxs)("label",{children:["Sorting number ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(t.jO,{type:"number",id:"sortInputField",placeholder:"Enter number to sort","aria-describedby":"sortInputField",...N("sortOrder",{required:{value:!m,message:"Sort Order is required"},min:{value:0,message:"Number can't negative"}})}),"required"===(null===E||void 0===E||null===(l=E.sortOrder)||void 0===l?void 0:l.type)&&(0,u.jsx)("p",{className:"text-danger",children:E.sortOrder.message}),"min"===(null===E||void 0===E||null===(a=E.sortOrder)||void 0===a?void 0:a.type)&&(0,u.jsx)("p",{className:"text-danger",children:E.sortOrder.message})]})]}),j&&(0,u.jsx)("p",{className:"text-danger mt-2 text-end",children:null===j||void 0===j||null===(x=j.data)||void 0===x?void 0:x.message}),(0,u.jsxs)("div",{className:"text-end",children:[(0,u.jsx)(c.Z,{}),(0,u.jsx)(t.u5,{type:v?"button":"submit",color:"success",className:"mt-3 text-white",children:g||h?"Loading":(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.Z,{icon:d.F,className:"me-2"}),m?"Update":"Save"]})})]})]})},m=(0,i.memo)(x);var p=r(19230),g=r(39432);const h=()=>{const{id:e}=(0,l.UO)(),[s,r]=(0,i.useState)(!0),d=(0,l.s0)(),{data:n,isLoading:o,isError:c}=(0,p.Om)(e,{skip:s}),[x,{isLoading:h,isSuccess:j,isError:y,error:b}]=(0,p.L5)(),[v,{isLoading:f,isSuccess:N,isError:C}]=(0,p.pi)();(0,i.useEffect)((()=>{e&&r(!1)}),[e]);return(0,i.useEffect)((()=>{a.Am.dismiss(),C&&a.Am.error("Category update failed",{id:"uError"})}),[C,N,j,y]),(0,i.useEffect)((()=>{N&&d("/category"),j&&d("/category")}),[N,j]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.rb,{children:(0,u.jsx)(t.b7,{xs:12,children:(0,u.jsxs)(t.xH,{className:"mb-4",children:[(0,u.jsx)(g.Z,{title:e?"Update Category":"Add Category"}),(0,u.jsx)(t.sl,{children:(0,u.jsx)(m,{addCategoryLoading:h,updateCategoryLoading:f,data:null===n||void 0===n?void 0:n.result,onSubmit:s=>{e?v({id:e,data:s}):x(s)},error:b})})]})})})})}}}]);
//# sourceMappingURL=3836.a353706b.chunk.js.map