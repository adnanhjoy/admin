"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[7440],{2196:(e,o,s)=>{s.d(o,{KN:()=>n,OT:()=>i,Wt:()=>t,gn:()=>d,oi:()=>c});const l=s(61347).apiSlice.injectEndpoints({tagTypes:["AllCoupons","SingleCoupon"],endpoints:e=>({getAllCoupons:e.query({query:()=>({url:"/coupon",method:"GET",headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),providesTags:["AllCoupons"]}),getSingleCoupon:e.query({query:e=>({url:"/coupon/".concat(e),method:"GET",headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"],providesTags:["SingleCoupon"]}),addSingleCouponById:e.mutation({query:e=>({url:"/coupon/add",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"]}),updateSingleCoupon:e.mutation({query:e=>{let{id:o,data:s}=e;return{url:"/coupon/".concat(o),method:"PUT",body:s}},invalidatesTags:["AllCoupons","SingleCoupon"]}),deleteSingleCoupon:e.mutation({query:e=>({url:"/coupon/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"]})})}),{useGetAllCouponsQuery:n,useDeleteSingleCouponMutation:i,useAddSingleCouponByIdMutation:t,useUpdateSingleCouponMutation:d,useGetSingleCouponQuery:c}=l},48907:(e,o,s)=>{s.d(o,{A:()=>d});var l=s(1118),n=s(6145),i=s(93946),t=s(70579);const d=e=>{let{setShowModal:o}=e;return(0,t.jsx)(i.jl,{content:"Delete",children:(0,t.jsx)(i.Q_,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2 mb-1",onClick:()=>o(!0),children:(0,t.jsx)(n.A,{icon:l.Z,style:{position:"absolute",top:"25%",left:"25%"}})})})}},87440:(e,o,s)=>{s.r(o),s.d(o,{default:()=>x});var l=s(93946),n=s(2196),i=s(88782),t=s(65043),d=s(35475),c=s(42145),a=s(48907),r=s(92990),u=s(39353),p=s(70579);const h=e=>{let{index:o,coupon:s}=e;const[i,h]=(0,t.useState)(!1),[x,{isLoading:g,isError:j,isSuccess:m}]=(0,n.OT)();return(0,t.useEffect)((()=>{c.oR.dismiss(),m&&c.oR.success("Delete Success",{id:"dSuccess"}),j&&c.oR.error("Failed to Delete",{id:"dError"})}),[m,j]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.A,{deleteThis:e=>{x(e)},showModal:i,setShowModal:h,id:s._id,deleteLoading:g}),(0,p.jsxs)(l.YI,{children:[(0,p.jsx)(l.$s,{scope:"row",children:o+1}),(0,p.jsx)(l.cC,{children:null===s||void 0===s?void 0:s.couponName}),(0,p.jsx)(l.cC,{children:null===s||void 0===s?void 0:s.couponCode}),(0,p.jsx)(l.cC,{children:"".concat("percentage"===(null===s||void 0===s?void 0:s.discountType)?"".concat(null===s||void 0===s?void 0:s.discount," %"):"".concat(null===s||void 0===s?void 0:s.discount," TK"))}),(0,p.jsx)(l.cC,{children:null===s||void 0===s?void 0:s.discountType}),(0,p.jsx)(l.cC,{children:null===s||void 0===s?void 0:s.totalAmount}),(0,p.jsx)(l.cC,{children:null!==s&&void 0!==s&&s.expireDate?(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("span",{className:"me-2",children:new Date(null===s||void 0===s?void 0:s.expireDate).toLocaleDateString()}),(0,p.jsx)("span",{children:new Date(null===s||void 0===s?void 0:s.expireDate).toLocaleTimeString()})]}):(0,p.jsx)("span",{className:"bg-warning rounded text-white  px-1",children:"Expired"})}),(0,p.jsx)(l.cC,{children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)(d.N_,{to:"/coupon/edit/".concat(null===s||void 0===s?void 0:s._id),children:(0,p.jsx)(r.A,{})}),(0,p.jsx)(a.A,{setShowModal:h})]})})]})]})},x=()=>{const{data:e,isLoading:o,isError:s}=(0,n.KN)();let t=null;return o&&(t=(0,p.jsx)("p",{children:"Loading.."})),!o&&s&&(t=(0,p.jsx)("p",{className:"text-danger",children:"There is something wrong!"})),o||s||0!==(null===e||void 0===e?void 0:e.length)||(t=(0,p.jsx)("p",{className:"text-danger",children:"There is no coupon."})),!o&&!s&&(null===e||void 0===e?void 0:e.length)>0&&(t=null===e||void 0===e?void 0:e.map(((e,o)=>(0,p.jsx)(h,{index:o,coupon:e},null===e||void 0===e?void 0:e._id)))),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.sK,{children:(0,p.jsx)(l.UF,{xs:12,children:(0,p.jsxs)(l.E$,{className:"mb-4",children:[(0,p.jsx)(i.A,{title:"All Coupons",to:"/coupon/add"}),(0,p.jsxs)(l.W6,{children:[(0,p.jsx)("p",{className:"text-medium-emphasis small",children:"Here is the list of all coupons."}),(0,p.jsxs)(l._v,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,p.jsx)(l.wV,{color:"light",children:(0,p.jsxs)(l.YI,{className:"text-start",children:[(0,p.jsx)(l.$s,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,p.jsx)(l.$s,{scope:"col",children:"Name"}),(0,p.jsx)(l.$s,{scope:"col",children:"Coupon Code"}),(0,p.jsx)(l.$s,{scope:"col",children:"Discount"}),(0,p.jsx)(l.$s,{scope:"col",children:"Type"}),(0,p.jsx)(l.$s,{scope:"col",children:"Active amount"}),(0,p.jsx)(l.$s,{scope:"col",children:"Expire date"}),(0,p.jsx)(l.$s,{scope:"col",style:{width:"100px",minWidth:"100px"},children:"Actions"})]})}),(0,p.jsx)(l.jS,{children:t})]})]})]})})})})}}}]);
//# sourceMappingURL=7440.1eff0d53.chunk.js.map