"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[8045],{64532:(e,i,s)=>{s.d(i,{Dj:()=>d,FQ:()=>h,JE:()=>r,N8:()=>c,PO:()=>m,QG:()=>t,n7:()=>o,nX:()=>n});const l=s(61347).apiSlice.injectEndpoints({tagTypes:["AllAdmin","SingleAdmin","AllManager"],endpoints:e=>({getAllAdmins:e.query({query:()=>({url:"/admin/allAdmin",method:"GET"}),providesTags:["AllAdmin"]}),getSingleAdmin:e.query({query:e=>({url:"/admin/".concat(e),method:"GET"}),providesTags:["SingleAdmin"]}),createNewAdmin:e.mutation({query:e=>({url:"/admin/register",method:"POST",body:e}),invalidatesTags:["SingleAdmin"]}),changeAdminPassword:e.mutation({query:e=>{let{email:i,data:s}=e;return{url:"/admin/changeAdminPassword/".concat(i),method:"PUT",body:s}},invalidatesTags:["SingleAdmin"]}),deleteAdmin:e.mutation({query:e=>({url:"/admin/deleteAdmin/".concat(e),method:"DELETE"}),invalidatesTags:["AllAdmin"]}),getAllManager:e.query({query:()=>({url:"/admin/manager/all",method:"GET"}),providesTags:["AllManager"]}),addManager:e.mutation({query:e=>({url:"/admin/manger",method:"POST",body:e}),invalidatesTags:["AllManager"]}),updateManager:e.mutation({query:e=>{let{id:i,data:s}=e;return{url:"/admin/updateAndPasswordChange/".concat(i),method:"PUT",body:s}},invalidatesTags:["AllManager","SingleAdmin"]}),deleteManager:e.mutation({query:e=>{let{id:i,currentUserEmail:s}=e;return{url:"/admin/manager/".concat(i),method:"DELETE",body:{currentUserEmail:s}}},invalidatesTags:["AllManager"]})})}),{useGetAllAdminsQuery:n,useGetSingleAdminQuery:d,useCreateNewAdminMutation:a,useDeleteAdminMutation:r,useGetAllManagerQuery:t,useAddManagerMutation:o,useDeleteManagerMutation:c,useUpdateManagerMutation:m,useChangeAdminPasswordMutation:h}=l},57400:(e,i,s)=>{s.d(i,{A:()=>d});var l=s(93946),n=s(70579);const d=e=>{let{children:i}=e;return(0,n.jsx)(l.cC,{colSpan:"100%",className:"text-danger text-center py-2",children:i})}},38045:(e,i,s)=>{s.r(i),s.d(i,{default:()=>w});var l=s(93946),n=s(64532),d=s(88782),a=s(65043),r=s(9835),t=s(1118),o=s(6145),c=s(35475),m=s(42145),h=s(39353),u=s(70579);const x=e=>{let{admin:i,index:s}=e;const[d,x]=(0,a.useState)(!1),[g,{isLoading:j,isError:v,isSuccess:p}]=(0,n.JE)();return(0,a.useEffect)((()=>{m.oR.dismiss(),v&&m.oR.error("Admin delete failed",{id:"dError"}),p&&m.oR.success("Admin delete success",{id:"dSuccess"})}),[v,p]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l.YI,{children:[(0,u.jsx)(l.$s,{scope:"row",children:s+1}),(0,u.jsx)(l.cC,{children:null===i||void 0===i?void 0:i.name}),(0,u.jsx)(l.cC,{children:null===i||void 0===i?void 0:i.email}),(0,u.jsx)(l.cC,{children:(0,u.jsx)("span",{className:"bg-success p-1 rounded",children:null===i||void 0===i?void 0:i.role})}),(0,u.jsx)(l.cC,{children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(c.N_,{to:"/admin/edit/".concat(null===i||void 0===i?void 0:i._id,"?superAdmin=true"),children:(0,u.jsx)(l.Q_,{color:"success",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},children:(0,u.jsx)(o.A,{icon:r.K,style:{position:"absolute",top:"25%",left:"25%"}})})}),(0,u.jsx)(l.Q_,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2",onClick:()=>x(!0),children:(0,u.jsx)(o.A,{icon:t.Z,style:{position:"absolute",top:"25%",left:"25%"}})})]})})]}),(0,u.jsx)(h.A,{deleteThis:g,showModal:d,setShowModal:x,id:null===i||void 0===i?void 0:i._id,deleteLoading:j})]})};var g=s(61297),j=s(57400),v=s(5137),p=s(92990);const A=e=>{let{manager:i,index:s}=e;const[d,r]=(0,a.useState)(!1),[x,{isLoading:g,isError:j,isSuccess:A}]=(0,n.N8)(),{email:y}=(0,v.d4)((e=>e.auth))||{};(0,a.useEffect)((()=>{A&&m.oR.success("Delete  Success"),j&&m.oR.error("Delete  Failed")}),[A,j]);return(0,u.jsxs)(l.YI,{children:[(0,u.jsx)(l.$s,{scope:"row",children:s+1}),(0,u.jsx)(l.cC,{children:null===i||void 0===i?void 0:i.name}),(0,u.jsx)(l.cC,{children:null===i||void 0===i?void 0:i.email}),(0,u.jsxs)(l.cC,{children:[" ",(0,u.jsx)("span",{className:" ".concat("admin"===(null===i||void 0===i?void 0:i.role)?"bg-success":"bg-warning"," p-1 rounded text-white"),children:null===i||void 0===i?void 0:i.role})]}),(0,u.jsx)(l.cC,{children:new Date(null===i||void 0===i?void 0:i.createdAt).toLocaleDateString()}),(0,u.jsxs)(l.cC,{children:[(0,u.jsx)(c.N_,{to:"/admin/edit/".concat(null===i||void 0===i?void 0:i._id),children:(0,u.jsx)(p.A,{})}),(0,u.jsx)(l.jl,{content:"Delete",children:(0,u.jsx)(l.Q_,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2 mb-1",onClick:()=>r(!0),children:(0,u.jsx)(o.A,{icon:t.Z,style:{position:"absolute",top:"25%",left:"25%"}})})})]}),(0,u.jsx)(h.A,{deleteThis:()=>{x({id:null===i||void 0===i?void 0:i._id,currentUserEmail:y})},showModal:d,setShowModal:r,id:null===i||void 0===i?void 0:i._id,deleteLoading:g})]},null===i||void 0===i?void 0:i._id)},y=()=>{const{data:e,isLoading:i,isError:s}=(0,n.QG)();let a=null;return i&&(a=(0,u.jsx)(g.A,{})),!i&&s&&(a=(0,u.jsx)(j.A,{children:"There was en error"})),i||s||0!==e.length||(a=(0,u.jsx)(j.A,{children:"There is no admin or manger"})),!i&&!s&&e.length>0&&(a=null===e||void 0===e?void 0:e.map(((e,i)=>(0,u.jsx)(A,{manager:e,index:i},null===e||void 0===e?void 0:e._id)))),(0,u.jsx)(l.sK,{children:(0,u.jsx)(l.UF,{xs:12,children:(0,u.jsxs)(l.E$,{className:"mb-4",children:[(0,u.jsx)(d.A,{to:"/admin/add",title:"All admin & managers"}),(0,u.jsxs)(l.W6,{children:[(0,u.jsx)("span",{children:"Super Admin"}),(0,u.jsxs)(l._v,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,u.jsx)(l.wV,{color:"light",children:(0,u.jsxs)(l.YI,{className:"text-start",children:[(0,u.jsx)(l.$s,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,u.jsx)(l.$s,{scope:"col",children:"Name"}),(0,u.jsx)(l.$s,{scope:"col",children:"Email"}),(0,u.jsx)(l.$s,{scope:"col",children:"Role"}),(0,u.jsx)(l.$s,{scope:"col",children:"Added Date"}),(0,u.jsx)(l.$s,{scope:"col",style:{width:"100px",minWidth:"100px"},children:"Actions"})]})}),(0,u.jsx)(l.jS,{children:a})]})]})]})})})},w=()=>{const{data:e,isLoading:i,isError:s}=(0,n.nX)();let a=null;return i&&(a=(0,u.jsx)("p",{children:"Loading..."})),!i&&s&&(a=(0,u.jsx)("p",{className:"text-danger",children:"There is something wrong"})),i||s||0!==(null===e||void 0===e?void 0:e.length)||(a=(0,u.jsx)("p",{className:"text-danger",children:"There is no admin"})),!i&&!s&&(null===e||void 0===e?void 0:e.length)>0&&(a=null===e||void 0===e?void 0:e.map(((e,i)=>(0,u.jsx)(x,{index:i,admin:e},null===e||void 0===e?void 0:e._id)))),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l.sK,{children:[(0,u.jsx)(l.UF,{xs:12,children:(0,u.jsxs)(l.E$,{className:"mb-4",children:[(0,u.jsx)(d.A,{to:".",title:"Super Admin"}),(0,u.jsxs)(l.W6,{children:[(0,u.jsx)("span",{className:"text-medium-emphasis small",children:"Here is the list of all admin & mangers"}),(0,u.jsxs)(l._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,children:[(0,u.jsx)(l.wV,{color:"light",children:(0,u.jsxs)(l.YI,{className:"text-start",children:[(0,u.jsx)(l.$s,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,u.jsx)(l.$s,{scope:"col",children:"Name"}),(0,u.jsx)(l.$s,{scope:"col",children:"Email"}),(0,u.jsx)(l.$s,{scope:"col",children:"Role"}),(0,u.jsx)(l.$s,{scope:"col",style:{width:"100px"},children:"Actions"})]})}),(0,u.jsx)(l.jS,{children:a})]})]})]})}),(0,u.jsx)(l.UF,{children:(0,u.jsx)(y,{})})]})})}}}]);
//# sourceMappingURL=8045.d259f8b1.chunk.js.map