"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[2596],{62596:(e,a,d)=>{d.r(a),d.d(a,{default:()=>o});var n=d(72791),r=d(57689),i=d(9085),l=d(57427),t=d(94296),s=d(43034),u=d(80184);const o=()=>{const{id:e}=(0,r.UO)(),[a,d]=(0,n.useState)(null),o=(0,r.s0)(),[p,c]=(0,n.useState)(""),[g,{isLoading:v,isError:f,isSuccess:m}]=(0,l.c9)(),{data:b,isLoading:C,isError:S}=(0,l.Kh)(e),[h,{isLoading:y,isError:E,isSuccess:O}]=(0,l.pX)();return(0,n.useEffect)((()=>{f&&i.Am.error("Banner added failed"),E&&i.Am.error("Banner updated failed")}),[f,E]),(0,n.useEffect)((()=>{m&&o(-1),O&&o(-1)}),[m,O]),(0,n.useEffect)((()=>{var e;c(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.slug)}),[b]),(0,u.jsx)(u.Fragment,{children:C?(0,u.jsx)(s.Z,{}):(0,u.jsx)(t.Z,{onSubmit:d=>{var n,r,i,l,t,s;const u=d.image[0],o=new FormData;o.append("image",u),null!==(n=d.categories)&&void 0!==n&&n.value&&o.append("categories",JSON.stringify(null===(r=d.categories)||void 0===r?void 0:r.value)),null!==(i=d.subCategories)&&void 0!==i&&i.value&&o.append("subCategories",JSON.stringify(null===(l=d.subCategories)||void 0===l?void 0:l.value)),null!==(t=d.subCategoryChildren)&&void 0!==t&&t.value&&o.append("subCategoryChildren",JSON.stringify(null===(s=d.subCategoryChildren)||void 0===s?void 0:s.value)),d.name&&o.append("name",d.name),a&&o.append("relatedBannerName",a),d.product&&o.append("product",d.product),d.related&&o.append("related",d.related),p&&o.append("slug",p),e?h({id:e,formData:o}):g(o)},addLoading:v||y,title:"Add related Banner",bannerData:null===b||void 0===b?void 0:b.data,isRelatedBanner:!0,selectedOption:a,setSelectedOption:d,bannerSize:"1280 x 570",slugValue:p,setSlugValue:c})})}}}]);
//# sourceMappingURL=2596.bf232810.chunk.js.map