"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[6943],{96943:(e,a,d)=>{d.r(a),d.d(a,{default:()=>o});var n=d(65043),r=d(73216),i=d(42145),l=d(42082),t=d(8263),s=d(61297),u=d(70579);const o=()=>{const{id:e}=(0,r.g)(),[a,d]=(0,n.useState)(null),o=(0,r.Zp)(),[p,c]=(0,n.useState)(""),[g,{isLoading:v,isError:f,isSuccess:m}]=(0,l.jI)(),{data:b,isLoading:C,isError:S}=(0,l.NN)(e),[h,{isLoading:y,isError:E,isSuccess:N}]=(0,l.T7)();return(0,n.useEffect)((()=>{f&&i.oR.error("Banner added failed"),E&&i.oR.error("Banner updated failed")}),[f,E]),(0,n.useEffect)((()=>{m&&o(-1),N&&o(-1)}),[m,N]),(0,n.useEffect)((()=>{var e;c(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.slug)}),[b]),(0,u.jsx)(u.Fragment,{children:C?(0,u.jsx)(s.A,{}):(0,u.jsx)(t.A,{onSubmit:d=>{var n,r,i,l,t,s;const u=d.image[0],o=new FormData;o.append("image",u),null!==(n=d.categories)&&void 0!==n&&n.value&&o.append("categories",JSON.stringify(null===(r=d.categories)||void 0===r?void 0:r.value)),null!==(i=d.subCategories)&&void 0!==i&&i.value&&o.append("subCategories",JSON.stringify(null===(l=d.subCategories)||void 0===l?void 0:l.value)),null!==(t=d.subCategoryChildren)&&void 0!==t&&t.value&&o.append("subCategoryChildren",JSON.stringify(null===(s=d.subCategoryChildren)||void 0===s?void 0:s.value)),d.name&&o.append("name",d.name),a&&o.append("relatedBannerName",a),d.product&&o.append("product",d.product),d.related&&o.append("related",d.related),p&&o.append("slug",p),e?h({id:e,formData:o}):g(o)},addLoading:v||y,title:"Add related Banner",bannerData:null===b||void 0===b?void 0:b.data,isRelatedBanner:!0,selectedOption:a,setSelectedOption:d,bannerSize:"1280 x 570",slugValue:p,setSlugValue:c})})}}}]);
//# sourceMappingURL=6943.1a8736a5.chunk.js.map