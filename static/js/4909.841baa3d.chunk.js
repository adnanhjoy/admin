"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[4909],{6970:(e,s,r)=>{r.d(s,{A:()=>a});r(65043);var t=r(85369),i=r(70579);const a=e=>{let{sizes:s}=e;return(0,i.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,i.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,i.jsx)(t.BzO,{size:35,style:{color:"green"}}),(0,i.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,i.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,i.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,i.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,i.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",s]})]})})}},94909:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var t=r(93946),i=r(65043),a=r(73216),l=r(42145),d=r(28671),n=r(6145),o=r(24858),c=(r(6970),r(94404)),u=r(70579);const x=e=>{var s,r,a,l,x;let{data:m,onSubmit:p,updateCategoryLoading:g,addCategoryLoading:h,error:j}=e;const[y,f]=(0,i.useState)(null),[v,b]=(0,i.useState)(null),{register:N,handleSubmit:C,setValue:F,formState:{errors:S}}=(0,o.mN)();return(0,i.useEffect)((()=>{if(m)for(const e in m)F(e,m[e])}),[m,F]),(0,u.jsxs)(t.qI,{encType:"multipart/form-data",onSubmit:C(p),children:[(0,u.jsxs)(t.sK,{className:"g-3",children:[(0,u.jsxs)(t.UF,{xs:12,children:[(0,u.jsxs)("label",{children:["Category title ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(t.OG,{type:"text",id:"titleInputField",placeholder:"Enter Category","aria-describedby":"titleInputField",...N("title",{required:{value:!m,message:"Category Name is required"}})}),"required"===(null===S||void 0===S||null===(s=S.title)||void 0===s?void 0:s.type)&&(0,u.jsx)("p",{className:"text-danger",children:S.title.message})]}),(0,u.jsxs)(t.UF,{xs:12,children:[(0,u.jsx)("label",{children:"Description"}),(0,u.jsx)(t.Im,{id:"categoryDescriptionTextareaField",placeholder:"Enter Description","aria-describedby":"categoryDescriptionTextareaField",rows:"3",...N("description",{})}),"required"===(null===S||void 0===S||null===(r=S.description)||void 0===r?void 0:r.type)&&(0,u.jsx)("p",{className:"text-danger",children:S.description.message})]}),(0,u.jsxs)(t.UF,{xs:12,children:[(0,u.jsxs)("label",{children:["Sorting number ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(t.OG,{type:"number",id:"sortInputField",placeholder:"Enter number to sort","aria-describedby":"sortInputField",...N("sortOrder",{required:{value:!m,message:"Sort Order is required"},min:{value:0,message:"Number can't negative"}})}),"required"===(null===S||void 0===S||null===(a=S.sortOrder)||void 0===a?void 0:a.type)&&(0,u.jsx)("p",{className:"text-danger",children:S.sortOrder.message}),"min"===(null===S||void 0===S||null===(l=S.sortOrder)||void 0===l?void 0:l.type)&&(0,u.jsx)("p",{className:"text-danger",children:S.sortOrder.message})]})]}),j&&(0,u.jsx)("p",{className:"text-danger mt-2 text-end",children:null===j||void 0===j||null===(x=j.data)||void 0===x?void 0:x.message}),(0,u.jsxs)("div",{className:"text-end",children:[(0,u.jsx)(c.A,{}),(0,u.jsx)(t.Q_,{type:v?"button":"submit",color:"success",className:"mt-3 text-white",children:g||h?"Loading":(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{icon:d.M,className:"me-2"}),m?"Update":"Save"]})})]})]})},m=(0,i.memo)(x);var p=r(20038),g=r(4388);const h=()=>{const{id:e}=(0,a.g)(),[s,r]=(0,i.useState)(!0),d=(0,a.Zp)(),{data:n,isLoading:o,isError:c}=(0,p.Mx)(e,{skip:s}),[x,{isLoading:h,isSuccess:j,isError:y,error:f}]=(0,p.uc)(),[v,{isLoading:b,isSuccess:N,isError:C}]=(0,p.ez)();(0,i.useEffect)((()=>{e&&r(!1)}),[e]);return(0,i.useEffect)((()=>{l.oR.dismiss(),C&&l.oR.error("Category update failed",{id:"uError"})}),[C,N,j,y]),(0,i.useEffect)((()=>{N&&d("/category"),j&&d("/category")}),[N,j]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.sK,{children:(0,u.jsx)(t.UF,{xs:12,children:(0,u.jsxs)(t.E$,{className:"mb-4",children:[(0,u.jsx)(g.A,{title:e?"Update Category":"Add Category"}),(0,u.jsx)(t.W6,{children:(0,u.jsx)(m,{addCategoryLoading:h,updateCategoryLoading:b,data:null===n||void 0===n?void 0:n.result,onSubmit:s=>{e?v({id:e,data:s}):x(s)},error:f})})]})})})})}}}]);
//# sourceMappingURL=4909.841baa3d.chunk.js.map