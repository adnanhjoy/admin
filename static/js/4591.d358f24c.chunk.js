"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[4591],{13247:(e,l,s)=>{s.d(l,{Aw:()=>n,IJ:()=>r,XA:()=>d,YN:()=>t,s$:()=>i});const o=s(61347).apiSlice.injectEndpoints({tagTypes:["AllBlogs","singleBlog"],endpoints:e=>({getAllBlogs:e.query({query:()=>({url:"/blogs",method:"GET"}),providesTags:["AllBlogs"]}),getSingleBlogs:e.query({query:e=>({url:"/blogs/".concat(e),method:"GET"}),providesTags:["singleBlog"]}),addNewBlog:e.mutation({query:e=>({url:"/blogs",method:"POST",body:e}),invalidatesTags:["AllBlogs"]}),updateSingleBlog:e.mutation({query:e=>{let{id:l,formData:s}=e;return{url:"/blogs/".concat(l),method:"PUT",body:s}},invalidatesTags:["AllBlogs","singleBlog"]}),deleteSingleBlog:e.mutation({query:e=>({url:"/blogs/".concat(e),method:"DELETE"}),invalidatesTags:["AllBlogs"]})})}),{useGetAllBlogsQuery:i,useGetSingleBlogsQuery:d,useAddNewBlogMutation:t,useUpdateSingleBlogMutation:n,useDeleteSingleBlogMutation:r}=o},48907:(e,l,s)=>{s.d(l,{A:()=>n});var o=s(1118),i=s(6145),d=s(93946),t=s(70579);const n=e=>{let{setShowModal:l}=e;return(0,t.jsx)(d.jl,{content:"Delete",children:(0,t.jsx)(d.Q_,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2 mb-1",onClick:()=>l(!0),children:(0,t.jsx)(i.A,{icon:o.Z,style:{position:"absolute",top:"25%",left:"25%"}})})})}},84591:(e,l,s)=>{s.r(l),s.d(l,{default:()=>x});var o=s(93946),i=s(13247),d=s(88782),t=(s(6145),s(65043)),n=s(35475),r=s(42145),a=s(48907),c=s(92990),g=s(39353),u=s(70579);const h=e=>{let{index:l,blog:s}=e;const[d,h]=(0,t.useState)(!1),[x,{isLoading:j,isError:p,error:v,isSuccess:m}]=(0,i.IJ)();return(0,t.useEffect)((()=>{r.oR.dismiss(),m&&r.oR.success("Delete blog successfully",{id:"dSuccess"}),p&&r.oR.error("Delete blog failed",{id:"dFailed"})}),[m,p]),(0,u.jsxs)(o.YI,{children:[(0,u.jsx)(o.$s,{scope:"row",children:l+1}),(0,u.jsx)(o.$s,{scope:"row",children:(0,u.jsx)("p",{children:new Date(null===s||void 0===s?void 0:s.createdAt).toDateString()})}),(0,u.jsxs)(o.cC,{children:[(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:s.blogTitle}}),(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:s.description}})]}),(0,u.jsx)(o.cC,{children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(n.N_,{to:"/pages/blog/edit/".concat(null===s||void 0===s?void 0:s._id),children:(0,u.jsx)(c.A,{})}),(0,u.jsx)(a.A,{setShowModal:h})]})}),(0,u.jsx)(g.A,{deleteThis:()=>{x(null===s||void 0===s?void 0:s._id)},showModal:d,setShowModal:h,id:s._id,deleteLoading:j})]})},x=()=>{var e,l;const{data:s,isLoading:t,isError:n}=(0,i.s$)();let r=null;return t&&(r=(0,u.jsx)("p",{children:"Loading.."})),!t&&n&&(r=(0,u.jsx)("p",{children:"There is something wrong!"})),t||n||0!==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.length)||(r=(0,u.jsx)("p",{children:"There is no blogs!"})),!t&&!n&&(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.length)>0&&(r=null===s||void 0===s?void 0:s.data.map(((e,l)=>(0,u.jsx)(h,{blog:e,index:l},null===e||void 0===e?void 0:e._id)))),(0,u.jsxs)(o.E$,{children:[(0,u.jsx)(d.A,{title:"All Blogs",to:"/pages/blog/add"}),(0,u.jsx)(o.W6,{children:(0,u.jsxs)(o._v,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,u.jsx)(o.wV,{color:"light",children:(0,u.jsxs)(o.YI,{className:"text-start",children:[(0,u.jsx)(o.$s,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,u.jsx)(o.$s,{scope:"col",style:{width:"10rem"},children:"Added Dated"}),(0,u.jsx)(o.$s,{scope:"col",children:"Description"}),(0,u.jsx)(o.$s,{scope:"col",style:{width:"100px",minWidth:"100px"},children:"Actions"})]})}),(0,u.jsx)(o.jS,{children:r})]})})]})}}}]);
//# sourceMappingURL=4591.d358f24c.chunk.js.map