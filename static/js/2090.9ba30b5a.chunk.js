"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[2090],{65138:(e,l,s)=>{s.d(l,{A1:()=>n,Vk:()=>o,yX:()=>r,zY:()=>d});const{apiSlice:i}=s(60470),t=i.injectEndpoints({tagTypes:["AllReview"],endpoints:e=>({getAllReviews:e.query({query:e=>({url:"review".concat(e),method:"GET"}),providesTags:["AllReview"]}),getTotalReviews:e.query({query:()=>({url:"review/totalReviews",method:"GET"})}),getTotalReviewsByMonth:e.query({query:()=>({url:"review/totalReviewsByMonth",method:"GET"})}),deleteSingleReview:e.mutation({query:e=>({url:"review/".concat(e),method:"DELETE"}),invalidatesTags:["AllReview"]})})}),{useGetAllReviewsQuery:r,useDeleteSingleReviewMutation:n,useGetTotalReviewsQuery:o,useGetTotalReviewsByMonthQuery:d}=t},31878:(e,l,s)=>{s.d(l,{Z:()=>x});var i=s(62412),t=s(40844),r=s(31493),n=s(79663),o=s(24846),d=s(78983),c=s(72791),a=s(80184);const h=e=>{let{showModal:l,setShowModal:s,user:c}=e;const{name:h,email:x,groupName:u,phone:m}=c||{};return(0,a.jsxs)(d.Tk,{visible:l,onClose:()=>{s(!1)},children:[(0,a.jsx)(d.p0,{closeButton:!0,children:"Se this user info"}),(0,a.jsx)(d.sD,{children:(0,a.jsx)(d.b7,{xs:12,children:(0,a.jsxs)(d.xH,{className:"",children:[(0,a.jsx)(d.bn,{className:"d-flex align-items-center justify-content-between",children:(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[" ",(0,a.jsx)(o.Z,{icon:i.E,className:"nav-icon"}),"Customer Details"]})}),(0,a.jsx)(d.sl,{className:"py-1 px-0",children:(0,a.jsxs)(d.GZ,{flush:!0,children:[(0,a.jsxs)(d.Eb,{className:"d-flex align-items-center",children:[(0,a.jsx)("div",{style:{height:"24px",width:"24px",backgroundColor:"#5bc0de",borderRadius:"2px ",border:"1px solid  #39b3d7"},className:" d-flex justify-content-center align-items-center  me-1 rounded-small",children:(0,a.jsx)(o.Z,{icon:i.E,className:"mx-1 text-white",style:{width:"2.28571429em",lineHeight:"1.5rem"}})}),h]}),(0,a.jsxs)(d.Eb,{className:"d-flex align-items-center",children:[(0,a.jsx)("div",{style:{height:"24px",width:"24px",backgroundColor:"#5bc0de",borderRadius:"2px ",border:"1px solid  #39b3d7"},className:" d-flex justify-content-center align-items-center  me-1 rounded-small",children:(0,a.jsx)(o.Z,{icon:t.y,className:"mx-1 text-white",style:{width:"2.28571429em",lineHeight:"1.5rem"}})}),u]}),(0,a.jsxs)(d.Eb,{className:"d-flex align-items-center",children:[(0,a.jsx)("div",{style:{height:"24px",width:"24px",backgroundColor:"#5bc0de",borderRadius:"2px ",border:"1px solid  #39b3d7"},className:" d-flex justify-content-center align-items-center  me-1 rounded-small",children:(0,a.jsx)(o.Z,{icon:r.m,className:"mx-1 text-white",style:{width:"2.28571429em",lineHeight:"1.5rem"}})}),x]}),(0,a.jsxs)(d.Eb,{className:"d-flex align-items-center",children:[(0,a.jsx)("div",{style:{height:"24px",width:"24px",backgroundColor:"#5bc0de",borderRadius:"2px ",border:"1px solid  #39b3d7"},className:" d-flex justify-content-center align-items-center  me-1 rounded-small",children:(0,a.jsx)(o.Z,{icon:n.d,className:"mx-1 text-white",style:{width:"2.28571429em",lineHeight:"1.5rem"}})}),m]})]})})]})})}),(0,a.jsx)(d.Ym,{children:(0,a.jsx)(d.u5,{color:"secondary",onClick:()=>s(!1),children:"Cancel"})})]})},x=(0,c.memo)(h)},30026:(e,l,s)=>{s.d(l,{Z:()=>d});var i=s(72791),t=s(8116),r=s(57689),n=s(13691),o=s(80184);const d=e=>{let{totalPageNumber:l,searchUrl:s}=e;const[d,c]=(0,i.useState)(1),a=(0,r.s0)(),h=e=>{c(e),a((0,n.G)(s||"?","page",e.toString()))};let x=l?Array.from({length:l},((e,l)=>l+1)):[],u=[];for(let i=1;i<=x.length;i++)u.push((0,o.jsx)(t.Z.Item,{active:i===d,onClick:()=>h(i),children:i},i));return(0,o.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,o.jsxs)(t.Z,{size:"sm",children:[d>1&&(0,o.jsx)(t.Z.Prev,{onClick:()=>h(d-1)}),u,d<l&&(0,o.jsx)(t.Z.Next,{onClick:()=>h(d+1)}),l>1&&(0,o.jsx)(t.Z.Last,{onClick:()=>h(l)})]})})}},13691:(e,l,s)=>{s.d(l,{G:()=>i});const i=(e,l,s)=>{const i=e.split("&");let t=!1;for(let r=0;r<i.length;r++){const e=i[r].split("=");if(e[0]===l){e[1]=s,i[r]=e.join("="),t=!0;break}}t||i.push("".concat(l,"=").concat(s));return[...new Set(i)].join("&")}},32090:(e,l,s)=>{s.r(l),s.d(l,{default:()=>g});var i=s(78983),t=s(57689),r=s(65138),n=s(1645),o=s(30026),d=s(22800),c=s(24846),a=s(72791),h=s(92592),x=s(11087),u=s(9085),m=s(30160),v=s(31878),j=s(80184);const p=e=>{var l,s,t;let{review:n,index:o}=e;const[p,g]=(0,a.useState)(!1),[w,{isLoading:y,isError:N,isSuccess:b}]=(0,r.A1)(),[f,Z]=(0,a.useState)(!1);return b&&u.Am.success("Delete Review Success"),N&&u.Am.error("Delete Review Failed"),(0,j.jsxs)(i.T6,{children:[(0,j.jsx)(i.is,{scope:"row",children:o+1}),(0,j.jsx)(i.NN,{children:(0,j.jsx)(h.Z,{src:null===n||void 0===n||null===(l=n.product)||void 0===l||null===(s=l.images)||void 0===s?void 0:s[0],alt:"product_image",height:50})}),(0,j.jsx)(i.NN,{children:null===n||void 0===n?void 0:n.description}),(0,j.jsx)(i.NN,{children:(0,j.jsx)(i.If,{content:"See user",children:(0,j.jsx)(x.rU,{to:"",onClick:()=>Z(!0),style:{textDecoration:"none"},children:null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.name})})}),(0,j.jsx)(i.NN,{children:new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleDateString()}),(0,j.jsx)(i.NN,{children:null===n||void 0===n?void 0:n.rating}),(0,j.jsx)(i.NN,{children:(0,j.jsx)(i.If,{content:"Delete",children:(0,j.jsx)(i.u5,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2",onClick:()=>g(!0),children:(0,j.jsx)(c.Z,{icon:d.N,style:{position:"absolute",top:"25%",left:"25%"}})})})}),(0,j.jsx)(m.Z,{deleteThis:w,showModal:p,setShowModal:g,id:null===n||void 0===n?void 0:n._id,deleteLoading:y}),(0,j.jsx)(v.Z,{showModal:f,setShowModal:Z,user:null===n||void 0===n?void 0:n.user})]},null===n||void 0===n?void 0:n._id)},g=()=>{var e,l,s,d,c;const a=(0,t.TH)(),{data:h,isLoading:x,isError:u}=(0,r.yX)(a.search);let m=null;var v,g;(x&&(m=(0,j.jsx)("p",{children:"Loading..."})),!x&&u&&(m=(0,j.jsx)("p",{className:"text-danger",children:"There is something wrong"})),x||u||0!==(null===h||void 0===h||null===(e=h.result)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)||(m=(0,j.jsx)("p",{className:"fw-4",children:"There is no reviews"})),!x&&!u&&(null===h||void 0===h||null===(s=h.result)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.length)>0)&&(m=null===h||void 0===h||null===(v=h.result)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.map(((e,l)=>(0,j.jsx)(p,{review:e,index:l},null===e||void 0===e?void 0:e._id))));return(0,j.jsx)(i.rb,{children:(0,j.jsx)(i.b7,{xs:12,children:(0,j.jsxs)(i.xH,{className:"mb-4",children:[(0,j.jsx)(n.Z,{title:"All reviews",to:"/all-reviews"}),(0,j.jsxs)(i.sl,{children:[(0,j.jsx)("span",{children:"Here is all reviews"}),(0,j.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,j.jsx)(i.V,{color:"light",children:(0,j.jsxs)(i.T6,{className:"text-start",children:[(0,j.jsx)(i.is,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,j.jsx)(i.is,{scope:"col",children:"Photo"}),(0,j.jsx)(i.is,{scope:"col",style:{minWidth:"500px",maxWidth:"500px"},children:"Comment"}),(0,j.jsx)(i.is,{scope:"col",children:"Reviews by"}),(0,j.jsx)(i.is,{scope:"col",children:"Date"}),(0,j.jsx)(i.is,{scope:"col",children:"Rating"}),(0,j.jsx)(i.is,{scope:"col",style:{width:"50px",minWidth:"50px"},children:"Actions"})]})}),(0,j.jsx)(i.NR,{children:m})]}),(0,j.jsx)(o.Z,{searchUrl:a.search,totalPageNumber:null===h||void 0===h||null===(c=h.result)||void 0===c?void 0:c.totalPageNumber})]})]})})})}},31493:(e,l,s)=>{s.d(l,{m:()=>i});const i=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M274.6,25.623a32.006,32.006,0,0,0-37.2,0L16,183.766V496H496V183.766ZM464,402.693,339.97,322.96,464,226.492ZM256,51.662,454.429,193.4,311.434,304.615,256,268.979l-55.434,35.636L57.571,193.4ZM48,226.492,172.03,322.96,48,402.693ZM464,464H48V440.735L256,307.021,464,440.735Z' class='ci-primary'/>"]},40844:(e,l,s)=>{s.d(l,{y:()=>i});const i=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M462.541,316.3l-64.344-42.1,24.774-45.418A79.124,79.124,0,0,0,432.093,192V120A103.941,103.941,0,0,0,257.484,43.523L279.232,67a71.989,71.989,0,0,1,120.861,53v72a46.809,46.809,0,0,1-5.215,21.452L355.962,284.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421V432h-72v32h104V378.494A74.061,74.061,0,0,0,462.541,316.3Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M318.541,348.3l-64.343-42.1,24.773-45.418A79.124,79.124,0,0,0,288.093,224V152A104.212,104.212,0,0,0,184.04,47.866C126.723,47.866,80.093,94.581,80.093,152v72a78,78,0,0,0,9.015,36.775l24.908,45.664L50.047,348.3A74.022,74.022,0,0,0,16.5,410.4L16,496H352.093V410.494A74.061,74.061,0,0,0,318.541,348.3ZM320.093,464H48.186l.31-53.506a42.158,42.158,0,0,1,19.073-35.421l88.682-58.029L117.2,245.452A46.838,46.838,0,0,1,112.093,224V152a72,72,0,1,1,144,0v72a46.809,46.809,0,0,1-5.215,21.452L211.962,316.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421Z' class='ci-primary'/>"]},79663:(e,l,s)=>{s.d(l,{d:()=>i});const i=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=2090.9ba30b5a.chunk.js.map