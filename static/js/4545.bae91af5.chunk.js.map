{"version":3,"file":"static/js/4545.bae91af5.chunk.js","mappings":"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","sources":["redux/footer/footerApi.js","views/admins/footer/AddFooter.jsx"],"sourcesContent":["/* eslint-disable prettier/prettier */\nimport { apiSlice } from \"../api/apiSlice\";\n\nexport const footerApi = apiSlice.injectEndpoints({\n  tagTypes: [\"AllFooter\", \"SingleFooter\"],\n  endpoints: (builder) => ({\n    // get termsCondition offer discount for new user\n    getAllFooter: builder.query({\n      query: () => ({\n        url: `/footer`,\n        method: \"GET\",\n      }),\n      providesTags: [\"AllFooter\"],\n    }),\n    // get blog offer discount for new user\n    getSingleFooter: builder.query({\n      query: (id) => ({\n        url: `/footer/${id}`,\n        method: \"GET\",\n      }),\n      providesTags: [\"SingleFooter\"],\n    }),\n\n    // get blog offer discount for new user\n    addNewFooter: builder.mutation({\n      query: (blog) => ({\n        url: `/footer`,\n        method: \"POST\",\n        body: blog,\n      }),\n      invalidatesTags: [\"AllFooter\"],\n    }),\n\n    // get blog offer discount for new user\n    updateSingleFooter: builder.mutation({\n      query: ({ id, data }) => ({\n        url: `/footer/${id}`,\n        method: \"PUT\",\n        body: data,\n      }),\n      invalidatesTags: [\"AllFooter\", \"SingleFooter\"],\n    }),\n\n    // get blog offer discount for new user\n    deleteSingleFooter: builder.mutation({\n      query: (id) => ({\n        url: `/footer/${id}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"AllFooter\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetAllFooterQuery,\n  useGetSingleFooterQuery,\n  useAddNewFooterMutation,\n  useUpdateSingleFooterMutation,\n  useDeleteSingleFooterMutation,\n} = footerApi;\n","/* eslint-disable prettier/prettier */\nimport { cilSave } from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormTextarea,\n} from \"@coreui/react\";\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  useAddNewFooterMutation,\n  useGetSingleFooterQuery,\n  useUpdateSingleFooterMutation,\n} from \"src/redux/footer/footerApi\";\n\nimport CancelButton from \"src/ui/button/CancelButton\";\nimport Loading from \"src/ui/Loading\";\n\nconst AddFooter = () => {\n  const [haveId, setHaveId] = useState(true);\n  const { id } = useParams();\n  const { handleSubmit, register, setValue } = useForm();\n  const navigate = useNavigate();\n\n  const {\n    data: footerData,\n    isLoading: getLoading,\n    isError: termError,\n    error: termErrorMsg,\n  } = useGetSingleFooterQuery(id, { skip: haveId });\n\n  const [\n    addNewFooter,\n    { isLoading: addLoading, isError: addError, isSuccess: addSuccess, error: addMsg },\n  ] = useAddNewFooterMutation();\n\n  const [\n    updateSingleFooter,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess, error: updateMsg },\n  ] = useUpdateSingleFooterMutation();\n\n  // update or add new term conditions\n  const onSubmit = (data) => {\n    const data2 = {\n      text: data.text,\n    };\n    if (id) {\n      updateSingleFooter({ id, data: data2 });\n    } else {\n      addNewFooter(data2);\n    }\n  };\n\n  useEffect(() => {\n    addSuccess && toast.success(\"Successfully Added\");\n    addError && toast.error(addMsg?.data?.message);\n    updateSuccess && toast.success(\"Successfully Updated\");\n    updateError && toast.error(updateMsg?.data?.message);\n  }, [addSuccess, addError, updateSuccess, updateError]);\n\n  useEffect(() => {\n    if (id) {\n      setHaveId(false);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    addSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [addSuccess, updateSuccess]);\n\n  useEffect(() => {\n    if (footerData?.data) {\n      for (const key in footerData?.data) {\n        setValue(key, footerData?.data[key]);\n      }\n    }\n  }, [footerData?.data, setValue]);\n\n  return (\n    <CForm onSubmit={handleSubmit(onSubmit)}>\n      <CCard>\n        <CCardHeader className=\"text-center fs-5   fw-bold\">\n          {id ? \"Customize your footer\" : \"Add your footer\"}\n        </CCardHeader>\n        {getLoading ? (\n          <Loading />\n        ) : (\n          <CCardBody>\n            <CCol xs={12}>\n              <label className=\"w-100\">Footer text</label>\n              <CFormTextarea\n                type=\"text\"\n                id=\"FooterText\"\n                placeholder=\"Enter text\"\n                defaultValue={footerData?.data?.text}\n                aria-describedby=\"FooterText\"\n                {...register(\"text\", { required: true })}\n              />\n            </CCol>\n            <div className=\"text-end  \">\n              <CancelButton />\n              <CButton type=\"submit\" color=\"success\" className=\"mt-3 text-white\">\n                <CIcon icon={cilSave} className=\"me-2\" />\n                {updateLoading || addLoading ? \"Loading...\" : id ? \"Update\" : \"Save\"}\n              </CButton>\n            </div>\n          </CCardBody>\n        )}\n      </CCard>\n    </CForm>\n  );\n};\n\nexport default AddFooter;\n"],"names":["footerApi","injectEndpoints","tagTypes","endpoints","builder","getAllFooter","query","url","method","providesTags","getSingleFooter","id","concat","addNewFooter","mutation","blog","body","invalidatesTags","updateSingleFooter","_ref","data","deleteSingleFooter","useGetAllFooterQuery","useGetSingleFooterQuery","useAddNewFooterMutation","useUpdateSingleFooterMutation","useDeleteSingleFooterMutation","AddFooter","_footerData$data","haveId","setHaveId","useState","useParams","handleSubmit","register","setValue","useForm","navigate","useNavigate","footerData","isLoading","getLoading","isError","termError","error","termErrorMsg","skip","addLoading","addError","isSuccess","addSuccess","addMsg","updateLoading","updateError","updateSuccess","updateMsg","useEffect","_addMsg$data","_updateMsg$data","toast","success","message","key","_jsx","CForm","onSubmit","data2","text","children","_jsxs","CCard","CCardHeader","className","Loading","CCardBody","CCol","xs","CFormTextarea","type","placeholder","defaultValue","required","CancelButton","CButton","color","CIcon","icon","cilSave"],"sourceRoot":""}