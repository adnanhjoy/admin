"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[2808],{86892:(e,t,a)=>{a.d(t,{PC:()=>i,cm:()=>u,iI:()=>o,me:()=>l,sl:()=>s,wZ:()=>d});const r=a(60470).apiSlice.injectEndpoints({tagTypes:["SubCategory","SingleSubCategory"],endpoints:e=>({getAllSubCategory:e.query({query:()=>({url:"/subcategory",method:"GET"}),providesTags:["SubCategory"]}),getFilterSubCategory:e.query({query:e=>({url:"/subcategory/filter?".concat(e),method:"GET"}),providesTags:["SubCategory"]}),getSingleSubCategory:e.query({query:e=>({url:"/subcategory/".concat(e),method:"GET"}),invalidatesTags:["SubCategory"],providesTags:["SingleSubCategory"]}),addSubCategory:e.mutation({query:e=>({url:"/subcategory",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]}),updateSubCategory:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/subcategory/".concat(t),method:"PUT",body:a,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}},invalidatesTags:["SubCategory","SingleSubCategory"]}),deleteSubCategory:e.mutation({query:e=>({url:"/subcategory/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]})})}),{useGetAllSubCategoryQuery:s,useGetFilterSubCategoryQuery:i,useDeleteSubCategoryMutation:o,useAddSubCategoryMutation:u,useUpdateSubCategoryMutation:d,useGetSingleSubCategoryQuery:l}=r},92808:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(78983),s=a(72791),i=a(57689),o=a(9085),u=a(72282),d=a(24846),l=a(61134),c=a(19230),n=a(73779),g=a(80184);const b=e=>{let{data:t,onSubmit:a,addSubCategoryLoading:i,updateSubCategoryLoading:o}=e;const{data:b}=(0,c.QX)(),{register:y,handleSubmit:S,watch:m,setValue:h,formState:{errors:p},control:x}=(0,l.cI)();return(0,s.useEffect)((()=>{if(t)for(const e in t)h(e,t[e])}),[t]),(0,g.jsxs)(r.lx,{encType:"multipart/form-data",onSubmit:S(a),children:[(0,g.jsxs)(r.rb,{className:"g-3",children:[(0,g.jsxs)(r.b7,{xs:12,children:[(0,g.jsxs)("label",{children:["Category ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)("select",{className:"form-select mt-2","aria-label":"Default select example",...y("parent",{required:!0}),children:null===b||void 0===b?void 0:b.result.map((e=>(0,g.jsx)("option",{value:e._id,children:e.title},e._id)))})]}),(0,g.jsxs)(r.b7,{xs:12,children:[(0,g.jsxs)("label",{children:["Title ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(r.jO,{type:"text",id:"subcategoryTitleInputField",placeholder:"Enter Subcategory Title","aria-describedby":"subcategoryTitleInputField",...y("title",{required:!0})})]}),(0,g.jsx)(r.b7,{xs:12,children:(0,g.jsx)(r.PB,{id:"subcategoryDescriptionTextareaField",label:"Description",placeholder:"Enter Description","aria-describedby":"subcategoryDescriptionTextareaField",rows:"3",...y("description")})})]}),(0,g.jsxs)("div",{className:"text-end",children:[(0,g.jsx)(n.Z,{}),(0,g.jsx)(r.u5,{type:"submit",color:"success",className:"mt-3 text-white",children:i||o?"Loading":(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)(d.Z,{icon:u.F,className:"me-2"}),t?"Update":"Save"]})})]})]})};var y=a(86892),S=a(43034),m=a(39432);const h=()=>{const[e,t]=(0,s.useState)(!0),{id:a}=(0,i.UO)(),u=(0,i.s0)(),[d,{isLoading:l,isSuccess:c,isError:n}]=(0,y.cm)(),{data:h,isLoading:p}=(0,y.me)(a,{skip:e}),[x,{isLoading:C,isSuccess:j,isError:T}]=(0,y.wZ)();return(0,s.useEffect)((()=>{a&&t(!1)}),[a]),(0,s.useEffect)((()=>{o.Am.dismiss(),n&&o.Am.warning("Subcategory added failed!",{id:"aError"}),T&&o.Am.warning("Subcategory updated failed!",{id:"uError"})}),[n,T]),(0,s.useEffect)((()=>{c&&u(-1),j&&u(-1)}),[j,c]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.rb,{children:(0,g.jsx)(r.b7,{xs:12,children:(0,g.jsxs)(r.xH,{className:"mb-4",children:[(0,g.jsx)(m.Z,{title:a?"Update sub category":"Add sub category"}),(0,g.jsx)(r.sl,{children:p?(0,g.jsx)(S.Z,{}):(0,g.jsx)(b,{addSubCategoryLoading:l,updateSubCategoryLoading:C,data:null===h||void 0===h?void 0:h.result,onSubmit:e=>{a?x({id:a,data:e}):d(e)}})})]})})})})}}}]);
//# sourceMappingURL=2808.e4519754.chunk.js.map