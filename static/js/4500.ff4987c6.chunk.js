"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[4500],{65303:(e,o,s)=>{s.d(o,{S3:()=>c,h8:()=>t,mS:()=>d,po:()=>n,sv:()=>l});const i=s(60470).apiSlice.injectEndpoints({tagTypes:["AllCoupons","SingleCoupon"],endpoints:e=>({getAllCoupons:e.query({query:()=>({url:"/coupon",method:"GET",headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),providesTags:["AllCoupons"]}),getSingleCoupon:e.query({query:e=>({url:"/coupon/".concat(e),method:"GET",headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"],providesTags:["SingleCoupon"]}),addSingleCouponById:e.mutation({query:e=>({url:"/coupon/add",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"]}),updateSingleCoupon:e.mutation({query:e=>{let{id:o,data:s}=e;return{url:"/coupon/".concat(o),method:"PUT",body:s}},invalidatesTags:["AllCoupons","SingleCoupon"]}),deleteSingleCoupon:e.mutation({query:e=>({url:"/coupon/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["AllCoupons"]})})}),{useGetAllCouponsQuery:l,useDeleteSingleCouponMutation:n,useAddSingleCouponByIdMutation:d,useUpdateSingleCouponMutation:t,useGetSingleCouponQuery:c}=i},94500:(e,o,s)=>{s.r(o),s.d(o,{default:()=>x});var i=s(78983),l=s(65303),n=s(21527),d=s(72791),t=s(11087),c=s(9085),a=s(97605),r=s(51118),u=s(30160),p=s(80184);const h=e=>{let{index:o,coupon:s}=e;const[n,h]=(0,d.useState)(!1),[x,{isLoading:m,isError:g,isSuccess:j}]=(0,l.po)();return(0,d.useEffect)((()=>{c.Am.dismiss(),j&&c.Am.success("Delete Success",{id:"dSuccess"}),g&&c.Am.error("Failed to Delete",{id:"dError"})}),[j,g]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{deleteThis:e=>{x(e)},showModal:n,setShowModal:h,id:s._id,deleteLoading:m}),(0,p.jsxs)(i.T6,{children:[(0,p.jsx)(i.is,{scope:"row",children:o+1}),(0,p.jsx)(i.NN,{children:null===s||void 0===s?void 0:s.couponName}),(0,p.jsx)(i.NN,{children:null===s||void 0===s?void 0:s.couponCode}),(0,p.jsx)(i.NN,{children:"".concat("percentage"===(null===s||void 0===s?void 0:s.discountType)?"".concat(null===s||void 0===s?void 0:s.discount," %"):"".concat(null===s||void 0===s?void 0:s.discount," TK"))}),(0,p.jsx)(i.NN,{children:null===s||void 0===s?void 0:s.discountType}),(0,p.jsx)(i.NN,{children:null===s||void 0===s?void 0:s.totalAmount}),(0,p.jsx)(i.NN,{children:null!==s&&void 0!==s&&s.expireDate?(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("span",{className:"me-2",children:new Date(null===s||void 0===s?void 0:s.expireDate).toLocaleDateString()}),(0,p.jsx)("span",{children:new Date(null===s||void 0===s?void 0:s.expireDate).toLocaleTimeString()})]}):(0,p.jsx)("span",{className:"bg-warning rounded text-white  px-1",children:"Expired"})}),(0,p.jsx)(i.NN,{children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)(t.rU,{to:"/coupon/edit/".concat(null===s||void 0===s?void 0:s._id),children:(0,p.jsx)(r.Z,{})}),(0,p.jsx)(a.Z,{setShowModal:h})]})})]})]})},x=()=>{const{data:e,isLoading:o,isError:s}=(0,l.sv)();let d=null;return o&&(d=(0,p.jsx)("p",{children:"Loading.."})),!o&&s&&(d=(0,p.jsx)("p",{className:"text-danger",children:"There is something wrong!"})),o||s||0!==(null===e||void 0===e?void 0:e.length)||(d=(0,p.jsx)("p",{className:"text-danger",children:"There is no coupon."})),!o&&!s&&(null===e||void 0===e?void 0:e.length)>0&&(d=null===e||void 0===e?void 0:e.map(((e,o)=>(0,p.jsx)(h,{index:o,coupon:e},null===e||void 0===e?void 0:e._id)))),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.rb,{children:(0,p.jsx)(i.b7,{xs:12,children:(0,p.jsxs)(i.xH,{className:"mb-4",children:[(0,p.jsx)(n.Z,{title:"All Coupons",to:"/coupon/add"}),(0,p.jsxs)(i.sl,{children:[(0,p.jsx)("p",{className:"text-medium-emphasis small",children:"Here is the list of all coupons."}),(0,p.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,p.jsx)(i.V,{color:"light",children:(0,p.jsxs)(i.T6,{className:"text-start",children:[(0,p.jsx)(i.is,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,p.jsx)(i.is,{scope:"col",children:"Name"}),(0,p.jsx)(i.is,{scope:"col",children:"Coupon Code"}),(0,p.jsx)(i.is,{scope:"col",children:"Discount"}),(0,p.jsx)(i.is,{scope:"col",children:"Type"}),(0,p.jsx)(i.is,{scope:"col",children:"Active amount"}),(0,p.jsx)(i.is,{scope:"col",children:"Expire date"}),(0,p.jsx)(i.is,{scope:"col",style:{width:"100px",minWidth:"100px"},children:"Actions"})]})}),(0,p.jsx)(i.NR,{children:d})]})]})]})})})})}}}]);
//# sourceMappingURL=4500.ff4987c6.chunk.js.map