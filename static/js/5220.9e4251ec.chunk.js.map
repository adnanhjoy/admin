{"version":3,"file":"static/js/5220.9e4251ec.chunk.js","mappings":"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","sources":["views/desktop-banner/add-desktop-banner/AddDesktopBanner.jsx"],"sourcesContent":["/* eslint-disable prettier/prettier */\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  useAddDesktopBannerMutation,\n  useGetSingleDesktopBannerQuery,\n  useUpdateDesktopBannerMutation,\n} from \"src/redux/banner/bannerApi\";\nimport AddBannerParent from \"src/ui/banner/AddBannerParentForm\";\nimport Loading from \"src/ui/Loading\";\n\nconst AddDesktopBanner = () => {\n  // add desktop banner hook\n  const { id } = useParams();\n  const [addDesktopBanner, { isLoading, isError, error, isSuccess }] = useAddDesktopBannerMutation();\n  const navigate = useNavigate();\n  const [color, setColor] = useState(\"#000000\");\n  const [slugValue, setSlugValue] = useState(\"\");\n  const [urlValue, setUrlValue] = useState(\"\");\n\n  const {\n    data: bannerData,\n    isLoading: getLoading,\n    isError: getError,\n  } = useGetSingleDesktopBannerQuery(id);\n\n  const [\n    updateDesktopBanner,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess },\n  ] = useUpdateDesktopBannerMutation();\n\n  // hande add desktop banner\n  const handleAddDesktopBanner = (data) => {\n    const image = data.image[0];\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    if (data.categories?.value)\n      formData.append(\"categories\", JSON.stringify(data.categories?.value));\n    if (data.subCategories?.value)\n      formData.append(\"subCategories\", JSON.stringify(data.subCategories?.value));\n    if (data.subCategoryChildren?.value)\n      formData.append(\"subCategoryChildren\", JSON.stringify(data.subCategoryChildren?.value));\n\n    if (data.name) formData.append(\"name\", data.name);\n    if (data.product) formData.append(\"product\", data.product);\n    if (data.campaignProducts) formData.append(\"campaignProducts\", JSON.stringify(data.campaignProducts));\n    if (data.related) formData.append(\"related\", data.related);\n    if (color) formData.append(\"bannerColor\", color);\n    if (slugValue) formData.append(\"slug\", slugValue);\n    if (urlValue) formData.append(\"url\", urlValue);\n\n    if (id) {\n      updateDesktopBanner({ id: bannerData?.data?._id, formData: formData });\n    } else {\n      addDesktopBanner(formData);\n    }\n  };\n\n  useEffect(() => {\n    isError && toast.error(error?.data?.message || \"Desktop banner added failed\");\n    updateError && toast.error(\"Desktop banner updated failed\");\n  }, [isError, updateError]);\n\n  useEffect(() => {\n    isSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [isSuccess, updateSuccess]);\n\n  useEffect(() => {\n    setSlugValue(bannerData?.data?.slug)\n  }, [bannerData]);\n  useEffect(() => {\n    setUrlValue(bannerData?.data?.url)\n  }, [bannerData]);\n\n  return (\n    <>\n      {!getLoading ? (\n        <AddBannerParent\n          onSubmit={handleAddDesktopBanner}\n          addLoading={isLoading || updateLoading}\n          title={\"Add Desktop Banner\"}\n          bannerData={bannerData?.data}\n          bannerSize={\"1280 x 570\"}\n          desktopBanner={true}\n          color={color}\n          setColor={setColor}\n          slugValue={slugValue}\n          setSlugValue={setSlugValue}\n          urlValue={urlValue}\n          setUrlValue={setUrlValue}\n        />\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n};\n\nexport default AddDesktopBanner;\n"],"names":["AddDesktopBanner","id","useParams","addDesktopBanner","isLoading","isError","error","isSuccess","useAddDesktopBannerMutation","navigate","useNavigate","color","setColor","useState","slugValue","setSlugValue","urlValue","setUrlValue","data","bannerData","getLoading","getError","useGetSingleDesktopBannerQuery","updateDesktopBanner","updateLoading","updateError","updateSuccess","useUpdateDesktopBannerMutation","useEffect","_error$data","toast","message","_bannerData$data2","slug","_bannerData$data3","url","_jsx","_Fragment","children","Loading","AddBannerParent","onSubmit","_data$categories","_data$categories2","_data$subCategories","_data$subCategories2","_data$subCategoryChil","_data$subCategoryChil2","image","formData","FormData","_bannerData$data","append","categories","value","JSON","stringify","subCategories","subCategoryChildren","name","product","campaignProducts","related","_id","addLoading","title","bannerSize","desktopBanner"],"sourceRoot":""}