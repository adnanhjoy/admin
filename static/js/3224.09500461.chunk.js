"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[3224],{10300:(e,t,l)=>{l.d(t,{Bf:()=>s,GH:()=>r,Rj:()=>i,UR:()=>n,oS:()=>o});const a=l(60470).apiSlice.injectEndpoints({tagTypes:["AllBlogs","singleBlog"],endpoints:e=>({getAllBlogs:e.query({query:()=>({url:"/blogs",method:"GET"}),providesTags:["AllBlogs"]}),getSingleBlogs:e.query({query:e=>({url:"/blogs/".concat(e),method:"GET"}),providesTags:["singleBlog"]}),addNewBlog:e.mutation({query:e=>({url:"/blogs",method:"POST",body:e}),invalidatesTags:["AllBlogs"]}),updateSingleBlog:e.mutation({query:e=>{let{id:t,formData:l}=e;return{url:"/blogs/".concat(t),method:"PUT",body:l}},invalidatesTags:["AllBlogs","singleBlog"]}),deleteSingleBlog:e.mutation({query:e=>({url:"/blogs/".concat(e),method:"DELETE"}),invalidatesTags:["AllBlogs"]})})}),{useGetAllBlogsQuery:s,useGetSingleBlogsQuery:r,useAddNewBlogMutation:i,useUpdateSingleBlogMutation:n,useDeleteSingleBlogMutation:o}=a},74047:(e,t,l)=>{l.d(t,{Z:()=>r});l(72791);var a=l(56355),s=l(80184);const r=e=>{let{sizes:t}=e;return(0,s.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,s.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,s.jsx)(a.Qvc,{size:35,style:{color:"green"}}),(0,s.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,s.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,s.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,s.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,s.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",t]})]})})}},2203:(e,t,l)=>{l.d(t,{h:()=>a});const a=()=>({toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]})},57432:(e,t,l)=>{l.d(t,{f:()=>a});const a=e=>{var t;return null===(t=e.replace(/'/g,"").replace(/&/g,"and").replace(/"/g,"").replace(/,/g,"").replace(/:/g,""))||void 0===t?void 0:t.replace(/\s/g,"-")}},3224:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(72791),s=l(57689),r=l(9085),i=l(10300),n=l(72282),o=l(24846),d=l(78983),c=l(43360),u=l(92592),g=l(61134),m=l(66770),p=l.n(m),h=l(12880),b=l(74047),x=l(73779),v=l(39432),f=l(2203),j=l(57432),y=l(80184);const B=e=>{var t,l;let{onSubmit:r,loading:i,blogDescription:m,setBlogDescription:B,blogData:N,slugValue:S,setSlugValue:T,blogTags:E,setBlogTags:w}=e;const k=(0,f.h)(),{id:C}=(0,s.UO)(),{handleSubmit:q,register:A,errors:U}=(0,g.cI)(),[D,F]=(0,a.useState)(""),[O,G]=(0,a.useState)(null),[I,R]=(0,a.useState)(null);return(0,a.useMemo)((()=>{C&&(B(null===N||void 0===N?void 0:N.description),w(null===N||void 0===N?void 0:N.tags)),F(null===N||void 0===N?void 0:N.blogTitle)}),[C,N]),(0,y.jsx)(d.lx,{encType:"multipart/form-data",onSubmit:q(r),children:(0,y.jsxs)(d.xH,{children:[(0,y.jsx)(v.Z,{title:C?"Update blog":"Add blog"}),(0,y.jsxs)(d.sl,{children:[(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{className:"mb-2",children:["Author ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter author name",defaultValue:null===N||void 0===N?void 0:N.author,"aria-describedby":"nameInputField",...A("author",{required:{value:!N,message:"Author is required"}})}),"required"===(null===U||void 0===U||null===(t=U.author)||void 0===t?void 0:t.type)&&(0,y.jsx)("p",{className:"text-danger",children:U.author.message})]}),(0,y.jsxs)(d.b7,{xs:12,className:"my-2",children:[(0,y.jsxs)("label",{className:"w-100",children:["Blog Title ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter blog title",defaultValue:null===N||void 0===N?void 0:N.blogTitle,"aria-describedby":"nameInputField",...A("blogTitle",{required:{value:!N,message:"Blog title is required"}}),onFocus:e=>F(e.target.value),onChange:e=>F(e.target.value)}),"required"===(null===U||void 0===U||null===(l=U.blogTitle)||void 0===l?void 0:l.type)&&(0,y.jsx)("p",{className:"text-danger",children:U.blogTitle.message})]}),(0,y.jsxs)(d.rb,{className:"mt-2",children:[(0,y.jsxs)(d.b7,{md:11,children:[(0,y.jsxs)("label",{className:"mb-2",children:["URL Slug ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter Url slug","aria-describedby":"nameInputField",required:!0,value:S,onChange:e=>T(e.target.value)})]}),(0,y.jsx)(d.b7,{style:{marginTop:"1.8rem"},md:1,children:(0,y.jsx)(c.Z,{className:"p-1",onClick:()=>T((0,j.f)(D.toLocaleLowerCase())),children:"Generate"})})]}),(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{children:["Blog image ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(b.Z,{sizes:"1280 x 570"}),(0,y.jsx)(d.jO,{type:"file",id:"file-upload",accept:".jpg, .png, .jpeg, .gif","aria-describedby":"file-upload",style:{border:"none",outline:"none",backgroundColor:"transparent",color:"transparent",width:"0.1px",height:"0.1px",overflow:"hidden",position:"absolute",zIndex:"-1"},...A("image",{required:{value:!N,message:"Image is required"}}),onChange:e=>function(e){const t=e.target.files[0];t.size>2097152?(R("File size should be less than 2MB"),G(null)):(G(URL.createObjectURL(t)),R(null))}(e)}),I&&(0,y.jsx)("p",{style:{color:"red"},children:I}),O&&(0,y.jsx)(u.Z,{className:"my-2",fluid:!0,src:O,alt:"Preview Image"}),(0,y.jsx)("br",{}),(null===N||void 0===N?void 0:N.image)&&(0,y.jsx)(u.Z,{className:"my-2",fluid:!0,src:null===N||void 0===N?void 0:N.image})]}),(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{className:"w-100",children:["Blog Description ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(p(),{className:"mt-2",theme:"snow",placeholder:"Enter blog descriptions here",modules:k,value:m,onChange:B})]}),(0,y.jsxs)(d.b7,{className:"mt-2",children:[(0,y.jsxs)("label",{className:"mb-2",children:["Tags ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(h.B,{required:!0,value:E,onChange:w,name:"tags",style:{width:"100%"}}),(0,y.jsx)("div",{className:"text-muted",children:"Press enter to add new tag"})]}),(0,y.jsxs)("div",{className:"text-end  ",children:[(0,y.jsx)(x.Z,{}),(0,y.jsxs)(d.u5,{type:"submit",color:"success",className:"mt-3 text-white",children:[(0,y.jsx)(o.Z,{icon:n.F,className:"me-2"}),i||i?"Loading...":C?"Update":"Save"]})]})]})]})})};var N=l(43034);const S=()=>{const e=(0,s.s0)(),{id:t}=(0,s.UO)(),[l,n]=(0,a.useState)(),[o,d]=(0,a.useState)([]),{data:c,isLoading:u}=(0,i.GH)(t),[g,{isLoading:m,isError:p,isSuccess:h,error:b}]=(0,i.Rj)(),[x,{isLoading:v,isError:f,isSuccess:j,error:S}]=(0,i.UR)();(0,a.useEffect)((()=>{var e,t;b&&r.Am.error((null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.message)||"Add failed"),S&&r.Am.error((null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.message)||"Update failed")}),[b,S]),(0,a.useEffect)((()=>{h&&e(-1),j&&e(-1)}),[h,e,j]);const[T,E]=(0,a.useState)("");return(0,a.useEffect)((()=>{var e;E(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.slug)}),[c]),(0,y.jsx)(y.Fragment,{children:u?(0,y.jsx)(N.Z,{}):(0,y.jsx)(B,{blogDescription:l,setBlogDescription:n,blogData:null===c||void 0===c?void 0:c.data,loading:m||v,onSubmit:e=>{const a=e.image[0],s=new FormData;a&&s.append("image",a),e.author&&s.append("author",e.author),e.blogTitle&&s.append("blogTitle",e.blogTitle),T&&s.append("slug",T),l&&s.append("description",l),o&&s.append("tags",JSON.stringify(o)),t?x({id:t,formData:s}):g(s)},blogTags:o,setBlogTags:d,slugValue:T,setSlugValue:E})})}},12880:(e,t,l)=>{l.d(t,{B:()=>o});var a=l(72791);function s(e,t){let l=(0,a.useRef)(!1);(0,a.useEffect)((()=>{l.current?e():l.current=!0}),t)}function r(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter((e=>e)).join(" ")}function i(e){let{text:t,remove:l,disabled:s,className:i}=e;return a.createElement("span",{className:r("rti--tag",i)},a.createElement("span",null,t),!s&&a.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),l(t)},"aria-label":"remove ".concat(t)},"\u2715"))}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&l.firstChild?l.insertBefore(a,l.firstChild):l.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var n=["Enter"],o=e=>{let{name:t,placeHolder:l,value:o,onChange:d,onBlur:c,separators:u,disableBackspaceRemove:g,onExisting:m,onRemoved:p,disabled:h,isEditOnRemove:b,beforeAddValidate:x,onKeyUp:v,classNames:f}=e,[j,y]=(0,a.useState)(o||[]);s((()=>{d&&d(j)}),[j]),s((()=>{JSON.stringify(o)!==JSON.stringify(j)&&y(o)}),[o]);let B=e=>{y(j.filter((t=>t!==e))),p&&p(e)};return a.createElement("div",{"aria-labelledby":t,className:"rti--container"},j.map((e=>a.createElement(i,{key:e,className:null==f?void 0:f.tag,text:e,remove:B,disabled:h}))),a.createElement("input",{className:r("rti--input",null==f?void 0:f.input),type:"text",name:t,placeholder:l,onKeyDown:e=>{e.stopPropagation();let t=e.target.value;if(!t&&!g&&j.length&&"Backspace"===e.key&&(e.target.value=b?"".concat(j.at(-1)," "):"",y([...j.slice(0,-1)])),t&&(u||n).includes(e.key)){if(e.preventDefault(),x&&!x(t,j))return;if(j.includes(t))return void(m&&m(t));y([...j,t]),e.target.value=""}},onBlur:c,disabled:h,onKeyUp:v}))}}}]);
//# sourceMappingURL=3224.09500461.chunk.js.map