{"version":3,"file":"static/js/1201.e9d23dbc.chunk.js","mappings":"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","sources":["redux/coupons/couponsApi.js","components/coupons/AddCouponForm.jsx","views/coupons/add-coupons/AddCoupons.jsx"],"sourcesContent":["import { apiSlice } from \"../api/apiSlice\";\n\nexport const manufactureApi = apiSlice.injectEndpoints({\n  tagTypes: [\"AllCoupons\", \"SingleCoupon\"],\n  endpoints: (builder) => ({\n    // get all category\n    getAllCoupons: builder.query({\n      query: () => ({\n        url: `/coupon`,\n        method: \"GET\",\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      providesTags: [\"AllCoupons\"],\n    }),\n\n    // get single category by id\n    getSingleCoupon: builder.query({\n      query: (id) => ({\n        url: `/coupon/${id}`,\n        method: \"GET\",\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n      providesTags: [\"SingleCoupon\"],\n    }),\n\n    // add new coupon\n    addSingleCouponById: builder.mutation({\n      query: (data) => ({\n        url: `/coupon/add`,\n        method: \"POST\",\n        body: data,\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n    }),\n\n    // update coupon by id\n    updateSingleCoupon: builder.mutation({\n      query: ({ id, data }) => ({\n        url: `/coupon/${id}`,\n        method: \"PUT\",\n        body: data,\n      }),\n      invalidatesTags: [\"AllCoupons\", \"SingleCoupon\"],\n    }),\n\n    // delete coupon by id\n    deleteSingleCoupon: builder.mutation({\n      query: (id) => ({\n        url: `/coupon/${id}`,\n        method: \"DELETE\",\n        body: id,\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetAllCouponsQuery,\n  useDeleteSingleCouponMutation,\n  useAddSingleCouponByIdMutation,\n  useUpdateSingleCouponMutation,\n  useGetSingleCouponQuery,\n} = manufactureApi;\n","/* eslint-disable react/prop-types */\nimport { cilPlus } from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport { CButton, CCol, CForm, CFormCheck, CFormInput, CRow } from \"@coreui/react\";\nimport PropTypes from \"prop-types\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport CancelButton from \"src/ui/button/CancelButton\";\n\nconst AddCouponForm = ({\n  onSubmit,\n  data,\n  addLoading,\n  updateLoading,\n  setSelectedDate,\n  selectedDate,\n}) => {\n  const [selectedCheckValue, setCheckedValue] = useState(data?.discountType);\n\n  const handleDateChange = (event) => {\n    setSelectedDate(event.target.value);\n  };\n\n  useEffect(() => {\n    setCheckedValue(data?.discountType);\n    setSelectedDate(data?.expireDate);\n  }, [data?.discountType]);\n\n  const { register, handleSubmit } = useForm();\n\n  const handleChangeCheck = (e) => {\n    setCheckedValue(e.target.value);\n  };\n\n  return (\n    <CForm onSubmit={handleSubmit(onSubmit)}>\n      <CRow className=\"g-3\">\n        <CCol xs={12}>\n          <CFormInput\n            type=\"text\"\n            id=\"CouponNameInputField\"\n            label=\"Coupon Name\"\n            placeholder=\"Enter Coupon Name\"\n            defaultValue={data?.couponName}\n            aria-describedby=\"CouponNameInputField\"\n            {...register(\"couponName\", { required: data ? false : true })}\n          />\n        </CCol>\n        <CCol xs={12}>\n          <CFormInput\n            id=\"couponCodeInputField\"\n            label=\"Coupon Code\"\n            placeholder=\"Enter Coupon Code\"\n            defaultValue={data?.couponCode}\n            aria-describedby=\"couponCodeInputField\"\n            {...register(\"couponCode\", { required: data ? false : true })}\n          />\n        </CCol>\n\n        <CCol xs={12}>\n          <label className=\"mb-2\">Expire date:  {data && <span className=\"text-primary\">{new Date(selectedDate)?.toDateString()}</span>}</label>\n          <CFormInput\n            type=\"text\"\n            id=\"expireDate\"\n            placeholder=\"Enter Expire Date\"\n            aria-describedby=\"expireDate\"\n            defaultValue={selectedDate}\n            onChange={handleDateChange}\n            onFocus={(e) => (e.target.type = \"datetime-local\")}\n            onBlur={(e) => (e.target.type = \"text\")}\n          // {...register(\"expireDate\")}\n          />\n        </CCol>\n        <CCol xs={12}>\n          <label className=\"mb-2\">Discount Type</label>\n          <br />\n          <CFormCheck\n            inline\n            type=\"radio\"\n            name=\"discountTypeOptions\"\n            id=\"discountTypePercentage\"\n            checked={\"percentage\" === selectedCheckValue}\n            value=\"percentage\"\n            label=\"Percentage\"\n            {...register(\"discountType\", { required: data ? false : true })}\n            onChange={(e) => handleChangeCheck(e)}\n          />\n          <CFormCheck\n            inline\n            type=\"radio\"\n            name=\"discountTypeOptions\"\n            id=\"discountTypeFixedAmount\"\n            checked={\"fixedAmount\" === selectedCheckValue}\n            value=\"fixedAmount\"\n            label=\"Fixed Amount\"\n            {...register(\"discountType\", { required: data ? false : true })}\n            onChange={(e) => handleChangeCheck(e)}\n          />\n        </CCol>\n\n        <CCol xs={12}>\n          <CFormInput\n            type=\"number\"\n            id=\"discountInputField\"\n            label=\"Discount\"\n            placeholder=\"Enter Discount\"\n            defaultValue={data?.discount}\n            aria-describedby=\"discountInputField\"\n            {...register(\"discount\", { required: data ? false : true })}\n          />\n        </CCol>\n        <CCol xs={12}>\n          <CFormInput\n            type=\"number\"\n            id=\"totalAmountInputField\"\n            label=\"Total Amount (for activate coupon)\"\n            placeholder=\"Enter Total Amount\"\n            defaultValue={data?.totalAmount}\n            aria-describedby=\"totalAmountInputField\"\n            {...register(\"totalAmount\", { required: data ? false : true })}\n          />\n        </CCol>\n      </CRow>\n      <div className=\"text-end\">\n        <CancelButton />\n        <CButton type=\"submit\" color=\"primary\" className=\"mt-3\">\n          <CIcon icon={cilPlus} className=\"me-2\" />\n          {addLoading || updateLoading ? \"Loading..\" : \"Save\"}\n        </CButton>\n      </div>\n    </CForm>\n  );\n};\n\nexport default AddCouponForm;\n\nAddCouponForm.propTypes = {\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n};\n","import { CCard, CCardBody, CCol, CRow } from \"@coreui/react\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport AddCouponForm from \"src/components/coupons/AddCouponForm\";\nimport {\n  useAddSingleCouponByIdMutation,\n  useGetSingleCouponQuery,\n  useUpdateSingleCouponMutation,\n} from \"src/redux/coupons/couponsApi\";\nimport HeaderBackButton from \"src/ui/button/HeaderBackButton\";\n\nconst AddCoupons = () => {\n  const { id } = useParams();\n  const [selectedDate, setSelectedDate] = useState();\n  const navigate = useNavigate();\n\n  const {\n    data: coupon,\n    isLoading: singleCouponLoading,\n    isError: singleCouponError,\n  } = useGetSingleCouponQuery(id, { skip: !id });\n\n  const [addSingleCouponById, { isLoading: addLoading, isError: addError, isSuccess: addSuccess }] =\n    useAddSingleCouponByIdMutation();\n\n  const [\n    updateSingleCoupon,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess },\n  ] = useUpdateSingleCouponMutation();\n\n  //handle create coupon function\n  const handleCreateCoupon = (data) => {\n    const modifiedData = {\n      ...data,\n      discount: Number(data.discount),\n      totalAmount: Number(data.totalAmount),\n      expireDate: selectedDate,\n    };\n\n    if (id) {\n      updateSingleCoupon({ id, data: modifiedData });\n    } else {\n      addSingleCouponById(modifiedData);\n    }\n  };\n\n  let content = null;\n\n  if (singleCouponLoading) {\n    content = <p>Loading...</p>;\n  }\n  if (!singleCouponLoading && singleCouponError) {\n    content = <p className=\"text-danger\">There is something wrong!</p>;\n  }\n  if (!singleCouponLoading && !singleCouponError) {\n    content = (\n      <AddCouponForm\n        selectedDate={selectedDate}\n        setSelectedDate={setSelectedDate}\n        addLoading={addLoading}\n        updateLoading={updateLoading}\n        onSubmit={handleCreateCoupon}\n        data={coupon}\n      />\n    );\n  }\n\n  useEffect(() => {\n    toast.dismiss();\n    addError && toast.error(\"Adding Failed\", { id: \"aFailed\" });\n    updateError && toast.error(\"Update Failed\", { id: \"uFailed\" });\n  }, [updateError, addError]);\n\n  useEffect(() => {\n    addSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [updateSuccess, navigate, addSuccess]);\n\n  return (\n    <>\n      <CRow>\n        <CCol xs={12}>\n          <CCard className=\"mb-4\">\n            <HeaderBackButton title={id ? \"Update coupon\" : \"Add Coupon\"} />\n            <CCardBody>{content}</CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  );\n};\n\nexport default AddCoupons;\n"],"names":["manufactureApi","apiSlice","injectEndpoints","tagTypes","endpoints","builder","getAllCoupons","query","url","method","headers","Authorization","JSON","parse","localStorage","getItem","accessToken","providesTags","getSingleCoupon","id","concat","invalidatesTags","addSingleCouponById","mutation","data","body","updateSingleCoupon","_ref","deleteSingleCoupon","useGetAllCouponsQuery","useDeleteSingleCouponMutation","useAddSingleCouponByIdMutation","useUpdateSingleCouponMutation","useGetSingleCouponQuery","_Date","onSubmit","addLoading","updateLoading","setSelectedDate","selectedDate","selectedCheckValue","setCheckedValue","useState","discountType","useEffect","expireDate","register","handleSubmit","useForm","handleChangeCheck","e","target","value","_jsxs","CForm","children","CRow","className","_jsx","CCol","xs","CFormInput","type","label","placeholder","defaultValue","couponName","required","couponCode","Date","toDateString","onChange","event","onFocus","onBlur","CFormCheck","inline","name","checked","discount","totalAmount","CancelButton","CButton","color","CIcon","icon","cilPlus","AddCoupons","useParams","navigate","useNavigate","coupon","isLoading","singleCouponLoading","isError","singleCouponError","skip","addError","isSuccess","addSuccess","updateError","updateSuccess","handleCreateCoupon","modifiedData","Number","content","AddCouponForm","toast","dismiss","error","_Fragment","CCard","HeaderBackButton","title","CCardBody"],"sourceRoot":""}