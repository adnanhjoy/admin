"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[1906],{65138:(e,l,s)=>{s.d(l,{A1:()=>n,Vk:()=>o,yX:()=>r,zY:()=>d});const{apiSlice:t}=s(60470),i=t.injectEndpoints({tagTypes:["AllReview"],endpoints:e=>({getAllReviews:e.query({query:e=>({url:"review".concat(e),method:"GET"}),providesTags:["AllReview"]}),getTotalReviews:e.query({query:()=>({url:"review/totalReviews",method:"GET"})}),getTotalReviewsByMonth:e.query({query:()=>({url:"review/totalReviewsByMonth",method:"GET"})}),deleteSingleReview:e.mutation({query:e=>({url:"review/".concat(e),method:"DELETE"}),invalidatesTags:["AllReview"]})})}),{useGetAllReviewsQuery:r,useDeleteSingleReviewMutation:n,useGetTotalReviewsQuery:o,useGetTotalReviewsByMonthQuery:d}=i},30026:(e,l,s)=>{s.d(l,{Z:()=>d});var t=s(72791),i=s(8116),r=s(57689),n=s(13691),o=s(80184);const d=e=>{let{totalPageNumber:l,searchUrl:s}=e;const[d,a]=(0,t.useState)(1),c=(0,r.s0)(),u=e=>{a(e),c((0,n.G)(s||"?","page",e.toString()))};let h=l?Array.from({length:l},((e,l)=>l+1)):[],v=[];for(let t=1;t<=h.length;t++)v.push((0,o.jsx)(i.Z.Item,{active:t===d,onClick:()=>u(t),children:t},t));return(0,o.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,o.jsxs)(i.Z,{size:"sm",children:[d>1&&(0,o.jsx)(i.Z.Prev,{onClick:()=>u(d-1)}),v,d<l&&(0,o.jsx)(i.Z.Next,{onClick:()=>u(d+1)}),l>1&&(0,o.jsx)(i.Z.Last,{onClick:()=>u(l)})]})})}},13691:(e,l,s)=>{s.d(l,{G:()=>t});const t=(e,l,s)=>{const t=e.split("&");let i=!1;for(let r=0;r<t.length;r++){const e=t[r].split("=");if(e[0]===l){e[1]=s,t[r]=e.join("="),i=!0;break}}i||t.push("".concat(l,"=").concat(s));return[...new Set(t)].join("&")}},11906:(e,l,s)=>{s.r(l),s.d(l,{default:()=>m});var t=s(78983),i=s(57689),r=s(1645),n=s(30026),o=s(22800),d=s(24846),a=s(72791),c=s(9085);const{apiSlice:u}=s(60470),h=u.injectEndpoints({tagTypes:["NewsLetter"],endpoints:e=>({getAllNewsLetter:e.query({query:e=>({url:"newsletter".concat(e),method:"GET"}),providesTags:["NewsLetter"]}),deleteSingleNewsLetter:e.mutation({query:e=>({url:"newsletter/".concat(e),method:"DELETE"}),invalidatesTags:["NewsLetter"]})})}),{useGetAllNewsLetterQuery:v,useDeleteSingleNewsLetterMutation:x}=h;s(65138);var w=s(30160),j=s(80184);const g=e=>{let{review:l,index:s}=e;const[i,r]=(0,a.useState)(!1),[n,{isLoading:u,isError:h,isSuccess:v}]=x();return(0,a.useEffect)((()=>{v&&c.Am.success("Delete  Success"),h&&c.Am.error("Delete  Failed")}),[v,h]),(0,j.jsxs)(t.T6,{children:[(0,j.jsx)(t.is,{scope:"row",children:s+1}),(0,j.jsx)(t.NN,{children:null===l||void 0===l?void 0:l.email}),(0,j.jsx)(t.NN,{children:new Date(null===l||void 0===l?void 0:l.createdAt).toLocaleDateString()}),(0,j.jsx)(t.NN,{children:(0,j.jsx)(t.If,{content:"Delete",children:(0,j.jsx)(t.u5,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2",onClick:()=>r(!0),children:(0,j.jsx)(d.Z,{icon:o.N,style:{position:"absolute",top:"25%",left:"25%"}})})})}),(0,j.jsx)(w.Z,{deleteThis:n,showModal:i,setShowModal:r,id:null===l||void 0===l?void 0:l._id,deleteLoading:u})]},null===l||void 0===l?void 0:l._id)},m=()=>{var e,l,s,o,d;const a=(0,i.TH)(),{data:c,isLoading:u,isError:h}=v(a.search);let x=null;var w,m;(u&&(x=(0,j.jsx)("p",{children:"Loading..."})),!u&&h&&(x=(0,j.jsx)("p",{className:"text-danger",children:"There is something wrong"})),u||h||0!==(null===c||void 0===c||null===(e=c.result)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)||(x=(0,j.jsx)("p",{className:"fw-4",children:"There is no reviews"})),!u&&!h&&(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.length)>0)&&(x=null===c||void 0===c||null===(w=c.result)||void 0===w||null===(m=w.data)||void 0===m?void 0:m.map(((e,l)=>(0,j.jsx)(g,{review:e,index:l},null===e||void 0===e?void 0:e._id))));return(0,j.jsx)(t.rb,{children:(0,j.jsx)(t.b7,{xs:12,children:(0,j.jsxs)(t.xH,{className:"mb-4",children:[(0,j.jsx)(r.Z,{title:"All subscriber"}),(0,j.jsxs)(t.sl,{children:[(0,j.jsx)("span",{children:"Here is all subscribers"}),(0,j.jsxs)(t.Sx,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,j.jsx)(t.V,{color:"light",children:(0,j.jsxs)(t.T6,{className:"text-start",children:[(0,j.jsx)(t.is,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,j.jsx)(t.is,{scope:"col",children:"email"}),(0,j.jsx)(t.is,{scope:"col",children:"Date"}),(0,j.jsx)(t.is,{scope:"col",style:{width:"50px",minWidth:"50px"},children:"Actions"})]})}),(0,j.jsx)(t.NR,{children:x})]}),(0,j.jsx)(n.Z,{searchUrl:a.search,totalPageNumber:null===c||void 0===c||null===(d=c.result)||void 0===d?void 0:d.totalPageNumber})]})]})})})}}}]);
//# sourceMappingURL=1906.7edb13ea.chunk.js.map