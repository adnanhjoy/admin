{"version":3,"file":"static/js/6625.7e7bc9aa.chunk.js","mappings":"mNAcA,MAsEA,EAtEsBA,KACpB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,OACRF,GAAe,UAAEG,EAAS,QAAEC,EAAO,UAAEC,KAAeC,EAAAA,EAAAA,MACrDC,GAAWC,EAAAA,EAAAA,OACVC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KAIzCC,GACET,UAAWU,EAAeT,QAASU,EAAaT,UAAWU,KAC3DC,EAAAA,EAAAA,OAEE,KAAEC,EAAMd,UAAWe,IAAeC,EAAAA,EAAAA,IAAsBlB,GAuC9D,OAbAmB,EAAAA,EAAAA,YAAU,KACRhB,GAAWiB,EAAAA,GAAMC,MAAM,uBACvBR,GAAeO,EAAAA,GAAMC,MAAM,uBAAuB,GACjD,CAAClB,EAASU,KAEbM,EAAAA,EAAAA,YAAU,KACRf,GAAaE,GAAU,GACvBQ,GAAiBR,GAAU,EAAE,GAC5B,CAACF,EAAWU,KAEfK,EAAAA,EAAAA,YAAU,KAAO,IAADG,EACdb,EAAiB,OAAJO,QAAI,IAAJA,GAAU,QAANM,EAAJN,EAAMA,YAAI,IAAAM,OAAN,EAAJA,EAAYC,KAAK,GAC7B,CAACP,KAEFQ,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACIT,GAWAO,EAAAA,EAAAA,KAACG,EAAAA,EAAO,KAVRH,EAAAA,EAAAA,KAACI,EAAAA,EAAe,CACdC,SAzCqBb,IAAU,IAADc,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACpC,MAAMC,EAAQpB,EAAKoB,MAAM,GACnBC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASH,GACN,QAAnBN,EAAId,EAAKwB,kBAAU,IAAAV,GAAfA,EAAiBW,OACnBJ,EAASE,OAAO,aAAcG,KAAKC,UAAyB,QAAhBZ,EAACf,EAAKwB,kBAAU,IAAAT,OAAA,EAAfA,EAAiBU,QAC1C,QAAtBT,EAAIhB,EAAK4B,qBAAa,IAAAZ,GAAlBA,EAAoBS,OACtBJ,EAASE,OAAO,gBAAiBG,KAAKC,UAA4B,QAAnBV,EAACjB,EAAK4B,qBAAa,IAAAX,OAAA,EAAlBA,EAAoBQ,QAC1C,QAA5BP,EAAIlB,EAAK6B,2BAAmB,IAAAX,GAAxBA,EAA0BO,OAC5BJ,EAASE,OAAO,sBAAuBG,KAAKC,UAAkC,QAAzBR,EAACnB,EAAK6B,2BAAmB,IAAAV,OAAA,EAAxBA,EAA0BM,QAE9EzB,EAAK8B,MAAMT,EAASE,OAAO,OAAQvB,EAAK8B,MACxC9B,EAAK+B,SAASV,EAASE,OAAO,UAAWvB,EAAK+B,SAC9C/B,EAAKgC,SAASX,EAASE,OAAO,UAAWvB,EAAKgC,SAC9CxC,GAAW6B,EAASE,OAAO,OAAQ/B,GAGnCR,EACFW,EAAgB,CAAEX,GAAIA,EAAIqC,SAAUA,IAEpCtC,EAAcsC,EAChB,EAqBMY,WAAY/C,GAAaU,EACzBsC,MAAO,kBACPC,WAAgB,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAClBoC,WAAY,aACZ5C,UAAWA,EACXC,aAAcA,KAKjB,C","sources":["views/top-banner/add-top-banner/AddSideBanner.jsx"],"sourcesContent":["/* eslint-disable no-lone-blocks */\n/* eslint-disable prettier/prettier */\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  useAddSideBannerMutation,\n  useGetSideBannerQuery,\n  useUpdateSideBannerMutation,\n} from \"src/redux/banner/bannerApi\";\n\nimport AddBannerParent from \"src/ui/banner/AddBannerParentForm\";\nimport Loading from \"src/ui/Loading\";\n\nconst AddSideBanner = () => {\n  const { id } = useParams();\n  const [AddSideBanner, { isLoading, isError, isSuccess }] = useAddSideBannerMutation();\n  const navigate = useNavigate();\n  const [slugValue, setSlugValue] = useState(\"\");\n\n\n  const [\n    updateTopBanner,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess },\n  ] = useUpdateSideBannerMutation();\n\n  const { data, isLoading: getLoading } = useGetSideBannerQuery(id);\n\n  const handleAddSideBanner = (data) => {\n    const image = data.image[0];\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    if (data.categories?.value)\n      formData.append(\"categories\", JSON.stringify(data.categories?.value));\n    if (data.subCategories?.value)\n      formData.append(\"subCategories\", JSON.stringify(data.subCategories?.value));\n    if (data.subCategoryChildren?.value)\n      formData.append(\"subCategoryChildren\", JSON.stringify(data.subCategoryChildren?.value));\n\n    if (data.name) formData.append(\"name\", data.name);\n    if (data.product) formData.append(\"product\", data.product);\n    if (data.related) formData.append(\"related\", data.related);\n    if (slugValue) formData.append(\"slug\", slugValue);\n\n\n    if (id) {\n      updateTopBanner({ id: id, formData: formData });\n    } else {\n      AddSideBanner(formData);\n    }\n  };\n\n  useEffect(() => {\n    isError && toast.error(\"Banner added failed\");\n    updateError && toast.error(\"Banner update failed\");\n  }, [isError, updateError]);\n\n  useEffect(() => {\n    isSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [isSuccess, updateSuccess]);\n\n  useEffect(() => {\n    setSlugValue(data?.data?.slug)\n  }, [data]);\n  return (\n    <>\n      {!getLoading ? (\n        <AddBannerParent\n          onSubmit={handleAddSideBanner}\n          addLoading={isLoading || updateLoading}\n          title={\"Add side banner\"}\n          bannerData={data?.data}\n          bannerSize={\"300 x free\"}\n          slugValue={slugValue}\n          setSlugValue={setSlugValue}\n        />\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n};\n\nexport default AddSideBanner;\n"],"names":["AddSideBanner","id","useParams","isLoading","isError","isSuccess","useAddSideBannerMutation","navigate","useNavigate","slugValue","setSlugValue","useState","updateTopBanner","updateLoading","updateError","updateSuccess","useUpdateSideBannerMutation","data","getLoading","useGetSideBannerQuery","useEffect","toast","error","_data$data","slug","_jsx","_Fragment","children","Loading","AddBannerParent","onSubmit","_data$categories","_data$categories2","_data$subCategories","_data$subCategories2","_data$subCategoryChil","_data$subCategoryChil2","image","formData","FormData","append","categories","value","JSON","stringify","subCategories","subCategoryChildren","name","product","related","addLoading","title","bannerData","bannerSize"],"sourceRoot":""}