"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[7865],{51644:(e,t,a)=>{a.d(t,{I0:()=>d,IZ:()=>i,N_:()=>s,Ql:()=>u,U9:()=>o,cs:()=>l});const r=a(61347).apiSlice.injectEndpoints({tagTypes:["SubCategory","SingleSubCategory"],endpoints:e=>({getAllSubCategory:e.query({query:()=>({url:"/subcategory",method:"GET"}),providesTags:["SubCategory"]}),getFilterSubCategory:e.query({query:e=>({url:"/subcategory/filter?".concat(e),method:"GET"}),providesTags:["SubCategory"]}),getSingleSubCategory:e.query({query:e=>({url:"/subcategory/".concat(e),method:"GET"}),invalidatesTags:["SubCategory"],providesTags:["SingleSubCategory"]}),addSubCategory:e.mutation({query:e=>({url:"/subcategory",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]}),updateSubCategory:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/subcategory/".concat(t),method:"PUT",body:a,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}},invalidatesTags:["SubCategory","SingleSubCategory"]}),deleteSubCategory:e.mutation({query:e=>({url:"/subcategory/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]})})}),{useGetAllSubCategoryQuery:s,useGetFilterSubCategoryQuery:i,useDeleteSubCategoryMutation:o,useAddSubCategoryMutation:u,useUpdateSubCategoryMutation:d,useGetSingleSubCategoryQuery:l}=r},67865:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(93946),s=a(65043),i=a(73216),o=a(42145),u=a(28671),d=a(6145),l=a(24858),c=a(20038),n=a(94404),g=a(70579);const y=e=>{let{data:t,onSubmit:a,addSubCategoryLoading:i,updateSubCategoryLoading:o}=e;const{data:y}=(0,c.HP)(),{register:b,handleSubmit:S,watch:h,setValue:m,formState:{errors:p},control:x}=(0,l.mN)();return(0,s.useEffect)((()=>{if(t)for(const e in t)m(e,t[e])}),[t]),(0,g.jsxs)(r.qI,{encType:"multipart/form-data",onSubmit:S(a),children:[(0,g.jsxs)(r.sK,{className:"g-3",children:[(0,g.jsxs)(r.UF,{xs:12,children:[(0,g.jsxs)("label",{children:["Category ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)("select",{className:"form-select mt-2","aria-label":"Default select example",...b("parent",{required:!0}),children:null===y||void 0===y?void 0:y.result.map((e=>(0,g.jsx)("option",{value:e._id,children:e.title},e._id)))})]}),(0,g.jsxs)(r.UF,{xs:12,children:[(0,g.jsxs)("label",{children:["Title ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(r.OG,{type:"text",id:"subcategoryTitleInputField",placeholder:"Enter Subcategory Title","aria-describedby":"subcategoryTitleInputField",...b("title",{required:!0})})]}),(0,g.jsx)(r.UF,{xs:12,children:(0,g.jsx)(r.Im,{id:"subcategoryDescriptionTextareaField",label:"Description",placeholder:"Enter Description","aria-describedby":"subcategoryDescriptionTextareaField",rows:"3",...b("description")})})]}),(0,g.jsxs)("div",{className:"text-end",children:[(0,g.jsx)(n.A,{}),(0,g.jsx)(r.Q_,{type:"submit",color:"success",className:"mt-3 text-white",children:i||o?"Loading":(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)(d.A,{icon:u.M,className:"me-2"}),t?"Update":"Save"]})})]})]})};var b=a(51644),S=a(61297),h=a(4388);const m=()=>{const[e,t]=(0,s.useState)(!0),{id:a}=(0,i.g)(),u=(0,i.Zp)(),[d,{isLoading:l,isSuccess:c,isError:n}]=(0,b.Ql)(),{data:m,isLoading:p}=(0,b.cs)(a,{skip:e}),[x,{isLoading:C,isSuccess:j,isError:T}]=(0,b.I0)();return(0,s.useEffect)((()=>{a&&t(!1)}),[a]),(0,s.useEffect)((()=>{o.oR.dismiss(),n&&o.oR.warning("Subcategory added failed!",{id:"aError"}),T&&o.oR.warning("Subcategory updated failed!",{id:"uError"})}),[n,T]),(0,s.useEffect)((()=>{c&&u(-1),j&&u(-1)}),[j,c]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.sK,{children:(0,g.jsx)(r.UF,{xs:12,children:(0,g.jsxs)(r.E$,{className:"mb-4",children:[(0,g.jsx)(h.A,{title:a?"Update sub category":"Add sub category"}),(0,g.jsx)(r.W6,{children:p?(0,g.jsx)(S.A,{}):(0,g.jsx)(y,{addSubCategoryLoading:l,updateSubCategoryLoading:C,data:null===m||void 0===m?void 0:m.result,onSubmit:e=>{a?x({id:a,data:e}):d(e)}})})]})})})})}}}]);
//# sourceMappingURL=7865.e576ef99.chunk.js.map