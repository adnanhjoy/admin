{"version":3,"file":"static/js/7440.1eff0d53.chunk.js","mappings":"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","sources":["redux/coupons/couponsApi.js","ui/button/DeleteButton.jsx","views/coupons/manage-coupons/TableRowData.jsx","views/coupons/manage-coupons/ManageCoupons.jsx"],"sourcesContent":["import { apiSlice } from \"../api/apiSlice\";\n\nexport const manufactureApi = apiSlice.injectEndpoints({\n  tagTypes: [\"AllCoupons\", \"SingleCoupon\"],\n  endpoints: (builder) => ({\n    // get all category\n    getAllCoupons: builder.query({\n      query: () => ({\n        url: `/coupon`,\n        method: \"GET\",\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      providesTags: [\"AllCoupons\"],\n    }),\n\n    // get single category by id\n    getSingleCoupon: builder.query({\n      query: (id) => ({\n        url: `/coupon/${id}`,\n        method: \"GET\",\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n      providesTags: [\"SingleCoupon\"],\n    }),\n\n    // add new coupon\n    addSingleCouponById: builder.mutation({\n      query: (data) => ({\n        url: `/coupon/add`,\n        method: \"POST\",\n        body: data,\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n    }),\n\n    // update coupon by id\n    updateSingleCoupon: builder.mutation({\n      query: ({ id, data }) => ({\n        url: `/coupon/${id}`,\n        method: \"PUT\",\n        body: data,\n      }),\n      invalidatesTags: [\"AllCoupons\", \"SingleCoupon\"],\n    }),\n\n    // delete coupon by id\n    deleteSingleCoupon: builder.mutation({\n      query: (id) => ({\n        url: `/coupon/${id}`,\n        method: \"DELETE\",\n        body: id,\n        headers: {\n          Authorization: JSON.parse(localStorage.getItem(\"auth\")).accessToken,\n        },\n      }),\n      invalidatesTags: [\"AllCoupons\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetAllCouponsQuery,\n  useDeleteSingleCouponMutation,\n  useAddSingleCouponByIdMutation,\n  useUpdateSingleCouponMutation,\n  useGetSingleCouponQuery,\n} = manufactureApi;\n","import { cilTrash } from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport { CButton, CTooltip } from \"@coreui/react\";\n\nconst DeleteButton = ({ setShowModal }) => {\n  return (\n    <CTooltip content=\"Delete\">\n      <CButton\n        color=\"danger\"\n        variant=\"outline\"\n        style={{ height: \"30px\", width: \"32px\", position: \"relative\" }}\n        className=\"ms-2 mb-1\"\n        onClick={() => setShowModal(true)}\n      >\n        <CIcon icon={cilTrash} style={{ position: \"absolute\", top: \"25%\", left: \"25%\" }} />\n      </CButton>\n    </CTooltip>\n  );\n};\n\nexport default DeleteButton;\n","import { CTableDataCell, CTableHeaderCell, CTableRow } from \"@coreui/react\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useDeleteSingleCouponMutation } from \"src/redux/coupons/couponsApi\";\nimport DeleteButton from \"src/ui/button/DeleteButton\";\nimport EditButton from \"src/ui/button/EditButton\";\nimport DeleteModal from \"src/ui/DeleteModal\";\n\nconst TableRowData = ({ index, coupon }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [deleteSingleCoupon, { isLoading: deleteLoading, isError, isSuccess }] =\n    useDeleteSingleCouponMutation();\n\n  const handleDeleteCoupon = (id) => {\n    deleteSingleCoupon(id);\n  };\n\n  useEffect(() => {\n    toast.dismiss();\n    isSuccess && toast.success(\"Delete Success\", { id: \"dSuccess\" });\n    isError && toast.error(\"Failed to Delete\", { id: \"dError\" });\n  }, [isSuccess, isError]);\n  return (\n    <>\n      <DeleteModal\n        deleteThis={handleDeleteCoupon}\n        showModal={showModal}\n        setShowModal={setShowModal}\n        id={coupon._id}\n        deleteLoading={deleteLoading}\n      />\n      <CTableRow>\n        <CTableHeaderCell scope=\"row\">{index + 1}</CTableHeaderCell>\n        <CTableDataCell>{coupon?.couponName}</CTableDataCell>\n        <CTableDataCell>{coupon?.couponCode}</CTableDataCell>\n        <CTableDataCell>{`${\n          coupon?.discountType === \"percentage\" ? `${coupon?.discount} %` : `${coupon?.discount} TK`\n        }`}</CTableDataCell>\n        <CTableDataCell>{coupon?.discountType}</CTableDataCell>\n        <CTableDataCell>{coupon?.totalAmount}</CTableDataCell>\n        <CTableDataCell>\n          {coupon?.expireDate ? (\n            <div className=\"d-flex\">\n              <span className=\"me-2\">{new Date(coupon?.expireDate).toLocaleDateString()}</span>\n              <span>{new Date(coupon?.expireDate).toLocaleTimeString()}</span>\n            </div>\n          ) : (\n            <span className=\"bg-warning rounded text-white  px-1\">Expired</span>\n          )}\n        </CTableDataCell>\n\n        <CTableDataCell>\n          <div className=\"\">\n            <Link to={`/coupon/edit/${coupon?._id}`}>\n              <EditButton />\n            </Link>\n            <DeleteButton setShowModal={setShowModal} />\n          </div>\n        </CTableDataCell>\n      </CTableRow>\n    </>\n  );\n};\n\nexport default TableRowData;\n","import {\n  CCard,\n  CCardBody,\n  CCol,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from \"@coreui/react\";\n\nimport { useGetAllCouponsQuery } from \"src/redux/coupons/couponsApi\";\nimport CardHeaderButton from \"src/ui/CardHeaderButton\";\nimport TableRowData from \"./TableRowData\";\n\nconst ManageCoupons = () => {\n  const { data: coupons, isLoading: couponLoading, isError: couponError } = useGetAllCouponsQuery();\n\n  let content = null;\n  if (couponLoading) {\n    content = <p>Loading..</p>;\n  }\n  if (!couponLoading && couponError) {\n    content = <p className=\"text-danger\">There is something wrong!</p>;\n  }\n  if (!couponLoading && !couponError && coupons?.length === 0) {\n    content = <p className=\"text-danger\">There is no coupon.</p>;\n  }\n  if (!couponLoading && !couponError && coupons?.length > 0) {\n    content = coupons?.map((coupon, index) => (\n      <TableRowData key={coupon?._id} index={index} coupon={coupon} />\n    ));\n  }\n\n  return (\n    <>\n      <CRow>\n        <CCol xs={12}>\n          <CCard className=\"mb-4\">\n            <CardHeaderButton title={\"All Coupons\"} to={\"/coupon/add\"} />\n            <CCardBody>\n              <p className=\"text-medium-emphasis small\">Here is the list of all coupons.</p>\n\n              <CTable align=\"middle\" className=\"mb-0 border\" bordered hover responsive>\n                <CTableHead color=\"light\">\n                  <CTableRow className=\"text-start\">\n                    <CTableHeaderCell scope=\"col\" style={{ width: \"3.75rem\" }}>\n                      Sl. No.\n                    </CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Name</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Coupon Code</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Discount</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Type</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Active amount</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"col\">Expire date</CTableHeaderCell>\n                    <CTableHeaderCell\n                      scope=\"col\"\n                      style={{\n                        width: \"100px\",\n                        minWidth: \"100px\",\n                      }}\n                    >\n                      Actions\n                    </CTableHeaderCell>\n                  </CTableRow>\n                </CTableHead>\n                <CTableBody>{content}</CTableBody>\n              </CTable>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  );\n};\n\nexport default ManageCoupons;\n"],"names":["manufactureApi","apiSlice","injectEndpoints","tagTypes","endpoints","builder","getAllCoupons","query","url","method","headers","Authorization","JSON","parse","localStorage","getItem","accessToken","providesTags","getSingleCoupon","id","concat","invalidatesTags","addSingleCouponById","mutation","data","body","updateSingleCoupon","_ref","deleteSingleCoupon","useGetAllCouponsQuery","useDeleteSingleCouponMutation","useAddSingleCouponByIdMutation","useUpdateSingleCouponMutation","useGetSingleCouponQuery","setShowModal","_jsx","CTooltip","content","children","CButton","color","variant","style","height","width","position","className","onClick","CIcon","icon","cilTrash","top","left","index","coupon","showModal","useState","isLoading","deleteLoading","isError","isSuccess","useEffect","toast","dismiss","success","error","_jsxs","_Fragment","DeleteModal","deleteThis","_id","CTableRow","CTableHeaderCell","scope","CTableDataCell","couponName","couponCode","discountType","discount","totalAmount","expireDate","Date","toLocaleDateString","toLocaleTimeString","Link","to","EditButton","DeleteButton","ManageCoupons","coupons","couponLoading","couponError","length","map","TableRowData","CRow","CCol","xs","CCard","CardHeaderButton","title","CCardBody","CTable","align","bordered","hover","responsive","CTableHead","minWidth","CTableBody"],"sourceRoot":""}