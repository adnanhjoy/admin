"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[6444],{13247:(e,t,l)=>{l.d(t,{Aw:()=>n,IJ:()=>o,XA:()=>r,YN:()=>i,s$:()=>s});const a=l(61347).apiSlice.injectEndpoints({tagTypes:["AllBlogs","singleBlog"],endpoints:e=>({getAllBlogs:e.query({query:()=>({url:"/blogs",method:"GET"}),providesTags:["AllBlogs"]}),getSingleBlogs:e.query({query:e=>({url:"/blogs/".concat(e),method:"GET"}),providesTags:["singleBlog"]}),addNewBlog:e.mutation({query:e=>({url:"/blogs",method:"POST",body:e}),invalidatesTags:["AllBlogs"]}),updateSingleBlog:e.mutation({query:e=>{let{id:t,formData:l}=e;return{url:"/blogs/".concat(t),method:"PUT",body:l}},invalidatesTags:["AllBlogs","singleBlog"]}),deleteSingleBlog:e.mutation({query:e=>({url:"/blogs/".concat(e),method:"DELETE"}),invalidatesTags:["AllBlogs"]})})}),{useGetAllBlogsQuery:s,useGetSingleBlogsQuery:r,useAddNewBlogMutation:i,useUpdateSingleBlogMutation:n,useDeleteSingleBlogMutation:o}=a},6970:(e,t,l)=>{l.d(t,{A:()=>r});l(65043);var a=l(85369),s=l(70579);const r=e=>{let{sizes:t}=e;return(0,s.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,s.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,s.jsx)(a.BzO,{size:35,style:{color:"green"}}),(0,s.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,s.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,s.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,s.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,s.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",t]})]})})}},48771:(e,t,l)=>{l.d(t,{z:()=>a});const a=()=>({toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]})},94281:(e,t,l)=>{l.d(t,{W:()=>a});const a=e=>{var t;return null===(t=e.replace(/'/g,"").replace(/&/g,"and").replace(/"/g,"").replace(/,/g,"").replace(/:/g,""))||void 0===t?void 0:t.replace(/\s/g,"-")}},46444:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(65043),s=l(73216),r=l(42145),i=l(13247),n=l(28671),o=l(6145),d=l(93946),c=l(14282),u=l(33637),g=l(24858),m=l(92823),p=l.n(m),h=l(57650),b=l(6970),x=l(94404),v=l(4388),f=l(48771),y=l(94281),j=l(70579);const N=e=>{var t,l;let{onSubmit:r,loading:i,blogDescription:m,setBlogDescription:N,blogData:B,slugValue:S,setSlugValue:T,blogTags:A,setBlogTags:E}=e;const w=(0,f.z)(),{id:k}=(0,s.g)(),{handleSubmit:F,register:q,errors:C}=(0,g.mN)(),[U,D]=(0,a.useState)(""),[z,G]=(0,a.useState)(null),[I,O]=(0,a.useState)(null);return(0,a.useMemo)((()=>{k&&(N(null===B||void 0===B?void 0:B.description),E(null===B||void 0===B?void 0:B.tags)),D(null===B||void 0===B?void 0:B.blogTitle)}),[k,B]),(0,j.jsx)(d.qI,{encType:"multipart/form-data",onSubmit:F(r),children:(0,j.jsxs)(d.E$,{children:[(0,j.jsx)(v.A,{title:k?"Update blog":"Add blog"}),(0,j.jsxs)(d.W6,{children:[(0,j.jsxs)(d.UF,{xs:12,children:[(0,j.jsxs)("label",{className:"mb-2",children:["Author ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.OG,{type:"text",id:"nameInputField",placeholder:"Enter author name",defaultValue:null===B||void 0===B?void 0:B.author,"aria-describedby":"nameInputField",...q("author",{required:{value:!B,message:"Author is required"}})}),"required"===(null===C||void 0===C||null===(t=C.author)||void 0===t?void 0:t.type)&&(0,j.jsx)("p",{className:"text-danger",children:C.author.message})]}),(0,j.jsxs)(d.UF,{xs:12,className:"my-2",children:[(0,j.jsxs)("label",{className:"w-100",children:["Blog Title ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.OG,{type:"text",id:"nameInputField",placeholder:"Enter blog title",defaultValue:null===B||void 0===B?void 0:B.blogTitle,"aria-describedby":"nameInputField",...q("blogTitle",{required:{value:!B,message:"Blog title is required"}}),onFocus:e=>D(e.target.value),onChange:e=>D(e.target.value)}),"required"===(null===C||void 0===C||null===(l=C.blogTitle)||void 0===l?void 0:l.type)&&(0,j.jsx)("p",{className:"text-danger",children:C.blogTitle.message})]}),(0,j.jsxs)(d.sK,{className:"mt-2",children:[(0,j.jsxs)(d.UF,{md:11,children:[(0,j.jsxs)("label",{className:"mb-2",children:["URL Slug ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.OG,{type:"text",id:"nameInputField",placeholder:"Enter Url slug","aria-describedby":"nameInputField",required:!0,value:S,onChange:e=>T(e.target.value)})]}),(0,j.jsx)(d.UF,{style:{marginTop:"1.8rem"},md:1,children:(0,j.jsx)(c.A,{className:"p-1",onClick:()=>T((0,y.W)(U.toLocaleLowerCase())),children:"Generate"})})]}),(0,j.jsxs)(d.UF,{xs:12,children:[(0,j.jsxs)("label",{children:["Blog image ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(b.A,{sizes:"1280 x 570"}),(0,j.jsx)(d.OG,{type:"file",id:"file-upload",accept:".jpg, .png, .jpeg, .gif","aria-describedby":"file-upload",style:{border:"none",outline:"none",backgroundColor:"transparent",color:"transparent",width:"0.1px",height:"0.1px",overflow:"hidden",position:"absolute",zIndex:"-1"},...q("image",{required:{value:!B,message:"Image is required"}}),onChange:e=>function(e){const t=e.target.files[0];t.size>2097152?(O("File size should be less than 2MB"),G(null)):(G(URL.createObjectURL(t)),O(null))}(e)}),I&&(0,j.jsx)("p",{style:{color:"red"},children:I}),z&&(0,j.jsx)(u.A,{className:"my-2",fluid:!0,src:z,alt:"Preview Image"}),(0,j.jsx)("br",{}),(null===B||void 0===B?void 0:B.image)&&(0,j.jsx)(u.A,{className:"my-2",fluid:!0,src:null===B||void 0===B?void 0:B.image})]}),(0,j.jsxs)(d.UF,{xs:12,children:[(0,j.jsxs)("label",{className:"w-100",children:["Blog Description ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(p(),{className:"mt-2",theme:"snow",placeholder:"Enter blog descriptions here",modules:w,value:m,onChange:N})]}),(0,j.jsxs)(d.UF,{className:"mt-2",children:[(0,j.jsxs)("label",{className:"mb-2",children:["Tags ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(h.u,{required:!0,value:A,onChange:E,name:"tags",style:{width:"100%"}}),(0,j.jsx)("div",{className:"text-muted",children:"Press enter to add new tag"})]}),(0,j.jsxs)("div",{className:"text-end  ",children:[(0,j.jsx)(x.A,{}),(0,j.jsxs)(d.Q_,{type:"submit",color:"success",className:"mt-3 text-white",children:[(0,j.jsx)(o.A,{icon:n.M,className:"me-2"}),i||i?"Loading...":k?"Update":"Save"]})]})]})]})})};var B=l(61297);const S=()=>{const e=(0,s.Zp)(),{id:t}=(0,s.g)(),[l,n]=(0,a.useState)(),[o,d]=(0,a.useState)([]),{data:c,isLoading:u}=(0,i.XA)(t),[g,{isLoading:m,isError:p,isSuccess:h,error:b}]=(0,i.YN)(),[x,{isLoading:v,isError:f,isSuccess:y,error:S}]=(0,i.Aw)();(0,a.useEffect)((()=>{var e,t;b&&r.oR.error((null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.message)||"Add failed"),S&&r.oR.error((null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.message)||"Update failed")}),[b,S]),(0,a.useEffect)((()=>{h&&e(-1),y&&e(-1)}),[h,e,y]);const[T,A]=(0,a.useState)("");return(0,a.useEffect)((()=>{var e;A(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.slug)}),[c]),(0,j.jsx)(j.Fragment,{children:u?(0,j.jsx)(B.A,{}):(0,j.jsx)(N,{blogDescription:l,setBlogDescription:n,blogData:null===c||void 0===c?void 0:c.data,loading:m||v,onSubmit:e=>{const a=e.image[0],s=new FormData;a&&s.append("image",a),e.author&&s.append("author",e.author),e.blogTitle&&s.append("blogTitle",e.blogTitle),T&&s.append("slug",T),l&&s.append("description",l),o&&s.append("tags",JSON.stringify(o)),t?x({id:t,formData:s}):g(s)},blogTags:o,setBlogTags:d,slugValue:T,setSlugValue:A})})}},57650:(e,t,l)=>{l.d(t,{u:()=>o});var a=l(65043);function s(e,t){let l=(0,a.useRef)(!1);(0,a.useEffect)((()=>{l.current?e():l.current=!0}),t)}function r(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter((e=>e)).join(" ")}function i(e){let{text:t,remove:l,disabled:s,className:i}=e;return a.createElement("span",{className:r("rti--tag",i)},a.createElement("span",null,t),!s&&a.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),l(t)},"aria-label":"remove ".concat(t)},"\u2715"))}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&l.firstChild?l.insertBefore(a,l.firstChild):l.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var n=["Enter"],o=e=>{let{name:t,placeHolder:l,value:o,onChange:d,onBlur:c,separators:u,disableBackspaceRemove:g,onExisting:m,onRemoved:p,disabled:h,isEditOnRemove:b,beforeAddValidate:x,onKeyUp:v,classNames:f}=e,[y,j]=(0,a.useState)(o||[]);s((()=>{d&&d(y)}),[y]),s((()=>{JSON.stringify(o)!==JSON.stringify(y)&&j(o)}),[o]);let N=e=>{j(y.filter((t=>t!==e))),p&&p(e)};return a.createElement("div",{"aria-labelledby":t,className:"rti--container"},y.map((e=>a.createElement(i,{key:e,className:null==f?void 0:f.tag,text:e,remove:N,disabled:h}))),a.createElement("input",{className:r("rti--input",null==f?void 0:f.input),type:"text",name:t,placeholder:l,onKeyDown:e=>{e.stopPropagation();let t=e.target.value;if(!t&&!g&&y.length&&"Backspace"===e.key&&(e.target.value=b?"".concat(y.at(-1)," "):"",j([...y.slice(0,-1)])),t&&(u||n).includes(e.key)){if(e.preventDefault(),x&&!x(t,y))return;if(y.includes(t))return void(m&&m(t));j([...y,t]),e.target.value=""}},onBlur:c,disabled:h,onKeyUp:v}))}}}]);
//# sourceMappingURL=6444.e5911d2d.chunk.js.map