"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[3224],{10300:(e,t,a)=>{a.d(t,{Bf:()=>s,GH:()=>r,Rj:()=>i,UR:()=>n,oS:()=>o});const l=a(60470).apiSlice.injectEndpoints({tagTypes:["AllBlogs","singleBlog"],endpoints:e=>({getAllBlogs:e.query({query:()=>({url:"/blogs",method:"GET"}),providesTags:["AllBlogs"]}),getSingleBlogs:e.query({query:e=>({url:"/blogs/".concat(e),method:"GET"}),providesTags:["singleBlog"]}),addNewBlog:e.mutation({query:e=>({url:"/blogs",method:"POST",body:e}),invalidatesTags:["AllBlogs"]}),updateSingleBlog:e.mutation({query:e=>{let{id:t,formData:a}=e;return{url:"/blogs/".concat(t),method:"PUT",body:a}},invalidatesTags:["AllBlogs","singleBlog"]}),deleteSingleBlog:e.mutation({query:e=>({url:"/blogs/".concat(e),method:"DELETE"}),invalidatesTags:["AllBlogs"]})})}),{useGetAllBlogsQuery:s,useGetSingleBlogsQuery:r,useAddNewBlogMutation:i,useUpdateSingleBlogMutation:n,useDeleteSingleBlogMutation:o}=l},74047:(e,t,a)=>{a.d(t,{Z:()=>r});a(72791);var l=a(56355),s=a(80184);const r=e=>{let{sizes:t}=e;return(0,s.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,s.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,s.jsx)(l.Qvc,{size:35,style:{color:"green"}}),(0,s.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,s.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,s.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,s.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,s.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",t]})]})})}},2203:(e,t,a)=>{a.d(t,{h:()=>l});const l=()=>({toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]})},57432:(e,t,a)=>{a.d(t,{f:()=>l});const l=e=>{var t;return null===(t=e.replace(/'/g,"").replace(/&/g,"and").replace(/"/g,"").replace(/,/g,"").replace(/:/g,""))||void 0===t?void 0:t.replace(/\s/g,"-")}},3224:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(72791),s=a(57689),r=a(9085),i=a(10300),n=a(72282),o=a(24846),d=a(78983),c=a(43360),u=a(92592),g=a(61134),m=a(66770),p=a.n(m),b=a(12880),h=a(74047),v=a(73779),x=a(39432),f=a(2203),j=a(57432),y=a(80184);const N=e=>{var t,a;let{onSubmit:r,loading:i,blogDescription:m,setBlogDescription:N,blogData:B,slugValue:S,setSlugValue:T,blogTags:E,setBlogTags:w}=e;const k=(0,f.h)(),{id:C}=(0,s.UO)(),{handleSubmit:q,register:A,errors:D}=(0,g.cI)(),[F,O]=(0,l.useState)(""),[U,I]=(0,l.useState)(null),[R,P]=(0,l.useState)(null);return(0,l.useMemo)((()=>{C&&(N(null===B||void 0===B?void 0:B.description),w(null===B||void 0===B?void 0:B.tags)),O(null===B||void 0===B?void 0:B.blogTitle)}),[C,B]),(0,y.jsx)(d.lx,{encType:"multipart/form-data",onSubmit:q(r),children:(0,y.jsxs)(d.xH,{children:[(0,y.jsx)(x.Z,{title:C?"Update blog":"Add blog"}),(0,y.jsxs)(d.sl,{children:[(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{className:"mb-2",children:["Author ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter author name",defaultValue:null===B||void 0===B?void 0:B.author,"aria-describedby":"nameInputField",...A("author",{required:{value:!B,message:"Author is required"}})}),"required"===(null===D||void 0===D||null===(t=D.author)||void 0===t?void 0:t.type)&&(0,y.jsx)("p",{className:"text-danger",children:D.author.message})]}),(0,y.jsxs)(d.b7,{xs:12,className:"my-2",children:[(0,y.jsxs)("label",{className:"w-100",children:["Blog Title ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter blog title",defaultValue:null===B||void 0===B?void 0:B.blogTitle,"aria-describedby":"nameInputField",...A("blogTitle",{required:{value:!B,message:"Blog title is required"}}),onFocus:e=>O(e.target.value),onChange:e=>O(e.target.value)}),"required"===(null===D||void 0===D||null===(a=D.blogTitle)||void 0===a?void 0:a.type)&&(0,y.jsx)("p",{className:"text-danger",children:D.blogTitle.message})]}),(0,y.jsxs)(d.rb,{className:"mt-2",children:[(0,y.jsxs)(d.b7,{md:11,children:[(0,y.jsxs)("label",{className:"mb-2",children:["URL Slug ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(d.jO,{type:"text",id:"nameInputField",placeholder:"Enter Url slug","aria-describedby":"nameInputField",required:!0,value:S,onChange:e=>T(e.target.value)})]}),(0,y.jsx)(d.b7,{style:{marginTop:"1.8rem"},md:1,children:(0,y.jsx)(c.Z,{className:"p-1",onClick:()=>T((0,j.f)(F.toLocaleLowerCase())),children:"Generate"})})]}),(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{children:["Blog image ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(h.Z,{sizes:"1280 x 570"}),(0,y.jsx)(d.jO,{type:"file",id:"file-upload",accept:".jpg, .png, .jpeg, .gif","aria-describedby":"file-upload",style:{border:"none",outline:"none",backgroundColor:"transparent",color:"transparent",width:"0.1px",height:"0.1px",overflow:"hidden",position:"absolute",zIndex:"-1"},...A("image",{required:{value:!B,message:"Image is required"}}),onChange:e=>function(e){const t=e.target.files[0];t.size>2097152?(P("File size should be less than 2MB"),I(null)):(I(URL.createObjectURL(t)),P(null))}(e)}),R&&(0,y.jsx)("p",{style:{color:"red"},children:R}),U&&(0,y.jsx)(u.Z,{className:"my-2",fluid:!0,src:U,alt:"Preview Image"}),(0,y.jsx)("br",{}),(null===B||void 0===B?void 0:B.image)&&(0,y.jsx)(u.Z,{className:"my-2",fluid:!0,src:null===B||void 0===B?void 0:B.image})]}),(0,y.jsxs)(d.b7,{xs:12,children:[(0,y.jsxs)("label",{className:"w-100",children:["Blog Description ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(p(),{className:"mt-2",theme:"snow",placeholder:"Enter blog descriptions here",modules:k,value:m,onChange:N})]}),(0,y.jsxs)(d.b7,{className:"mt-2",children:[(0,y.jsxs)("label",{className:"mb-2",children:["Tags ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)(b.B,{required:!0,value:E,onChange:w,name:"tags",style:{width:"100%"}}),(0,y.jsx)("div",{className:"text-muted",children:"Press enter to add new tag"})]}),(0,y.jsxs)("div",{className:"text-end  ",children:[(0,y.jsx)(v.Z,{}),(0,y.jsxs)(d.u5,{type:"submit",color:"success",className:"mt-3 text-white",children:[(0,y.jsx)(o.Z,{icon:n.F,className:"me-2"}),i||i?"Loading...":C?"Update":"Save"]})]})]})]})})};var B=a(43034);const S=()=>{const e=(0,s.s0)(),{id:t}=(0,s.UO)(),[a,n]=(0,l.useState)(),[o,d]=(0,l.useState)([]),{data:c,isLoading:u}=(0,i.GH)(t),[g,{isLoading:m,isError:p,isSuccess:b,error:h}]=(0,i.Rj)(),[v,{isLoading:x,isError:f,isSuccess:j,error:S}]=(0,i.UR)();(0,l.useEffect)((()=>{var e,t;h&&r.Am.error((null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.message)||"Add failed"),S&&r.Am.error((null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.message)||"Update failed")}),[h,S]),(0,l.useEffect)((()=>{b&&e(-1),j&&e(-1)}),[b,e,j]);const[T,E]=(0,l.useState)("");return(0,l.useEffect)((()=>{var e;E(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.slug)}),[c]),(0,y.jsx)(y.Fragment,{children:u?(0,y.jsx)(B.Z,{}):(0,y.jsx)(N,{blogDescription:a,setBlogDescription:n,blogData:null===c||void 0===c?void 0:c.data,loading:m||x,onSubmit:e=>{const l=e.image[0],s=new FormData;l&&s.append("image",l),e.author&&s.append("author",e.author),e.blogTitle&&s.append("blogTitle",e.blogTitle),T&&s.append("slug",T),a&&s.append("description",a),o&&s.append("tags",JSON.stringify(o)),t?v({id:t,formData:s}):g(s)},blogTags:o,setBlogTags:d,slugValue:T,setSlugValue:E})})}},15341:(e,t,a)=>{a.d(t,{FT:()=>i,ZP:()=>o});var l=a(72791),s=a(80184);const r=["as","disabled"];function i(e){let{tagName:t,disabled:a,href:l,target:s,rel:r,role:i,onClick:n,tabIndex:o=0,type:d}=e;t||(t=null!=l||null!=s||null!=r?"a":"button");const c={tagName:t};if("button"===t)return[{type:d||"button",disabled:a},c];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(l))&&e.preventDefault(),a?e.stopPropagation():null==n||n(e)};return"a"===t&&(l||(l="#"),a&&(l=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:a?void 0:o,href:l,target:"a"===t?s:void 0,"aria-disabled":a||void 0,rel:"a"===t?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}const n=l.forwardRef(((e,t)=>{let{as:a,disabled:l}=e,n=function(e,t){if(null==e)return{};var a,l,s={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,r);const[o,{tagName:d}]=i(Object.assign({tagName:a,disabled:l},n));return(0,s.jsx)(d,Object.assign({},n,o,{ref:t}))}));n.displayName="Button";const o=n},43360:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(41418),s=a.n(l),r=a(72791),i=a(15341),n=a(10162),o=a(80184);const d=r.forwardRef(((e,t)=>{let{as:a,bsPrefix:l,variant:r="primary",size:d,active:c=!1,disabled:u=!1,className:g,...m}=e;const p=(0,n.vE)(l,"btn"),[b,{tagName:h}]=(0,i.FT)({tagName:a,disabled:u,...m}),v=h;return(0,o.jsx)(v,{...b,...m,ref:t,disabled:u,className:s()(g,p,c&&"active",r&&"".concat(p,"-").concat(r),d&&"".concat(p,"-").concat(d),m.href&&u&&"disabled")})}));d.displayName="Button";const c=d},12880:(e,t,a)=>{a.d(t,{B:()=>o});var l=a(72791);function s(e,t){let a=(0,l.useRef)(!1);(0,l.useEffect)((()=>{a.current?e():a.current=!0}),t)}function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e=>e)).join(" ")}function i(e){let{text:t,remove:a,disabled:s,className:i}=e;return l.createElement("span",{className:r("rti--tag",i)},l.createElement("span",null,t),!s&&l.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),a(t)},"aria-label":"remove ".concat(t)},"\u2715"))}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===t&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var n=["Enter"],o=e=>{let{name:t,placeHolder:a,value:o,onChange:d,onBlur:c,separators:u,disableBackspaceRemove:g,onExisting:m,onRemoved:p,disabled:b,isEditOnRemove:h,beforeAddValidate:v,onKeyUp:x,classNames:f}=e,[j,y]=(0,l.useState)(o||[]);s((()=>{d&&d(j)}),[j]),s((()=>{JSON.stringify(o)!==JSON.stringify(j)&&y(o)}),[o]);let N=e=>{y(j.filter((t=>t!==e))),p&&p(e)};return l.createElement("div",{"aria-labelledby":t,className:"rti--container"},j.map((e=>l.createElement(i,{key:e,className:null==f?void 0:f.tag,text:e,remove:N,disabled:b}))),l.createElement("input",{className:r("rti--input",null==f?void 0:f.input),type:"text",name:t,placeholder:a,onKeyDown:e=>{e.stopPropagation();let t=e.target.value;if(!t&&!g&&j.length&&"Backspace"===e.key&&(e.target.value=h?"".concat(j.at(-1)," "):"",y([...j.slice(0,-1)])),t&&(u||n).includes(e.key)){if(e.preventDefault(),v&&!v(t,j))return;if(j.includes(t))return void(m&&m(t));y([...j,t]),e.target.value=""}},onBlur:c,disabled:b,onKeyUp:x}))}}}]);
//# sourceMappingURL=3224.db9d149c.chunk.js.map