"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[9593],{89593:(e,s,i)=>{i.r(s),i.d(s,{default:()=>w});var l=i(78983),d=i(40369),n=i(1645),o=i(72791),r=i(511),c=i(22800),t=i(24846),a=i(11087),h=i(9085),x=i(30160),m=i(80184);const j=e=>{let{admin:s,index:i}=e;const[n,j]=(0,o.useState)(!1),[u,{isLoading:v,isError:p,isSuccess:N}]=(0,d.yS)();return(0,o.useEffect)((()=>{h.Am.dismiss(),p&&h.Am.error("Admin delete failed",{id:"dError"}),N&&h.Am.success("Admin delete success",{id:"dSuccess"})}),[p,N]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.T6,{children:[(0,m.jsx)(l.is,{scope:"row",children:i+1}),(0,m.jsx)(l.NN,{children:null===s||void 0===s?void 0:s.name}),(0,m.jsx)(l.NN,{children:null===s||void 0===s?void 0:s.email}),(0,m.jsx)(l.NN,{children:(0,m.jsx)("span",{className:"bg-success p-1 rounded",children:null===s||void 0===s?void 0:s.role})}),(0,m.jsx)(l.NN,{children:(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)(a.rU,{to:"/admin/edit/".concat(null===s||void 0===s?void 0:s._id,"?superAdmin=true"),children:(0,m.jsx)(l.u5,{color:"success",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},children:(0,m.jsx)(t.Z,{icon:r.l,style:{position:"absolute",top:"25%",left:"25%"}})})}),(0,m.jsx)(l.u5,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2",onClick:()=>j(!0),children:(0,m.jsx)(t.Z,{icon:c.N,style:{position:"absolute",top:"25%",left:"25%"}})})]})})]}),(0,m.jsx)(x.Z,{deleteThis:u,showModal:n,setShowModal:j,id:null===s||void 0===s?void 0:s._id,deleteLoading:v})]})};var u=i(43034),v=i(79094),p=i(95048),N=i(51118);const g=e=>{let{manager:s,index:i}=e;const[n,r]=(0,o.useState)(!1),[j,{isLoading:u,isError:v,isSuccess:g}]=(0,d.sF)(),{email:b}=(0,p.v9)((e=>e.auth))||{};(0,o.useEffect)((()=>{g&&h.Am.success("Delete  Success"),v&&h.Am.error("Delete  Failed")}),[g,v]);return(0,m.jsxs)(l.T6,{children:[(0,m.jsx)(l.is,{scope:"row",children:i+1}),(0,m.jsx)(l.NN,{children:null===s||void 0===s?void 0:s.name}),(0,m.jsx)(l.NN,{children:null===s||void 0===s?void 0:s.email}),(0,m.jsxs)(l.NN,{children:[" ",(0,m.jsx)("span",{className:" ".concat("admin"===(null===s||void 0===s?void 0:s.role)?"bg-success":"bg-warning"," p-1 rounded text-white"),children:null===s||void 0===s?void 0:s.role})]}),(0,m.jsx)(l.NN,{children:new Date(null===s||void 0===s?void 0:s.createdAt).toLocaleDateString()}),(0,m.jsxs)(l.NN,{children:[(0,m.jsx)(a.rU,{to:"/admin/edit/".concat(null===s||void 0===s?void 0:s._id),children:(0,m.jsx)(N.Z,{})}),(0,m.jsx)(l.If,{content:"Delete",children:(0,m.jsx)(l.u5,{color:"danger",variant:"outline",style:{height:"30px",width:"32px",position:"relative"},className:"ms-2 mb-1",onClick:()=>r(!0),children:(0,m.jsx)(t.Z,{icon:c.N,style:{position:"absolute",top:"25%",left:"25%"}})})})]}),(0,m.jsx)(x.Z,{deleteThis:()=>{j({id:null===s||void 0===s?void 0:s._id,currentUserEmail:b})},showModal:n,setShowModal:r,id:null===s||void 0===s?void 0:s._id,deleteLoading:u})]},null===s||void 0===s?void 0:s._id)},b=()=>{const{data:e,isLoading:s,isError:i}=(0,d.gA)();let o=null;return s&&(o=(0,m.jsx)(u.Z,{})),!s&&i&&(o=(0,m.jsx)(v.Z,{children:"There was en error"})),s||i||0!==e.length||(o=(0,m.jsx)(v.Z,{children:"There is no admin or manger"})),!s&&!i&&e.length>0&&(o=null===e||void 0===e?void 0:e.map(((e,s)=>(0,m.jsx)(g,{manager:e,index:s},null===e||void 0===e?void 0:e._id)))),(0,m.jsx)(l.rb,{children:(0,m.jsx)(l.b7,{xs:12,children:(0,m.jsxs)(l.xH,{className:"mb-4",children:[(0,m.jsx)(n.Z,{to:"/admin/add",title:"All admin & managers"}),(0,m.jsxs)(l.sl,{children:[(0,m.jsx)("span",{children:"Super Admin"}),(0,m.jsxs)(l.Sx,{align:"middle",className:"mb-0 border",bordered:!0,hover:!0,responsive:!0,children:[(0,m.jsx)(l.V,{color:"light",children:(0,m.jsxs)(l.T6,{className:"text-start",children:[(0,m.jsx)(l.is,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,m.jsx)(l.is,{scope:"col",children:"Name"}),(0,m.jsx)(l.is,{scope:"col",children:"Email"}),(0,m.jsx)(l.is,{scope:"col",children:"Role"}),(0,m.jsx)(l.is,{scope:"col",children:"Added Date"}),(0,m.jsx)(l.is,{scope:"col",style:{width:"100px",minWidth:"100px"},children:"Actions"})]})}),(0,m.jsx)(l.NR,{children:o})]})]})]})})})},w=()=>{const{data:e,isLoading:s,isError:i}=(0,d.RP)();let o=null;return s&&(o=(0,m.jsx)("p",{children:"Loading..."})),!s&&i&&(o=(0,m.jsx)("p",{className:"text-danger",children:"There is something wrong"})),s||i||0!==(null===e||void 0===e?void 0:e.length)||(o=(0,m.jsx)("p",{className:"text-danger",children:"There is no admin"})),!s&&!i&&(null===e||void 0===e?void 0:e.length)>0&&(o=null===e||void 0===e?void 0:e.map(((e,s)=>(0,m.jsx)(j,{index:s,admin:e},null===e||void 0===e?void 0:e._id)))),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.rb,{children:[(0,m.jsx)(l.b7,{xs:12,children:(0,m.jsxs)(l.xH,{className:"mb-4",children:[(0,m.jsx)(n.Z,{to:".",title:"Super Admin"}),(0,m.jsxs)(l.sl,{children:[(0,m.jsx)("span",{className:"text-medium-emphasis small",children:"Here is the list of all admin & mangers"}),(0,m.jsxs)(l.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,children:[(0,m.jsx)(l.V,{color:"light",children:(0,m.jsxs)(l.T6,{className:"text-start",children:[(0,m.jsx)(l.is,{scope:"col",style:{width:"3.75rem"},children:"Sl. No."}),(0,m.jsx)(l.is,{scope:"col",children:"Name"}),(0,m.jsx)(l.is,{scope:"col",children:"Email"}),(0,m.jsx)(l.is,{scope:"col",children:"Role"}),(0,m.jsx)(l.is,{scope:"col",style:{width:"100px"},children:"Actions"})]})}),(0,m.jsx)(l.NR,{children:o})]})]})]})}),(0,m.jsx)(l.b7,{children:(0,m.jsx)(b,{})})]})})}}}]);
//# sourceMappingURL=9593.0b1e2eac.chunk.js.map