"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[5371],{21456:(e,t,a)=>{a.d(t,{NG:()=>o,UO:()=>c,_5:()=>d,c8:()=>n,d2:()=>s,zG:()=>i});const r=a(60470).apiSlice.injectEndpoints({tagTypes:["SubCategoryChildren","SingleSubCategoryChildren","SubCategoryChildLimit"],endpoints:e=>({getAllSubCategoryChildren:e.query({query:()=>({url:"/subcategory-children",method:"GET"}),providesTags:["SubCategoryChildren"]}),getFilterSubCategoryChildren:e.query({query:e=>({url:"/subcategory-children/filter?".concat(e),method:"GET"}),providesTags:["SubCategoryChildren"]}),getAllSubCategoryChildrenByPage:e.query({query:e=>({url:"/subcategory-children/limit".concat(e),method:"GET"}),providesTags:["SubCategoryChildLimit"]}),getSingleSubCategoryChildren:e.query({query:e=>({url:"/subcategory-children/".concat(e),method:"GET"}),providesTags:["SingleSubCategoryChildren"]}),addSubCategoryChildren:e.mutation({query:e=>({url:"/subcategory-children",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategoryChildLimit"]}),updateSubCategoryChildren:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/subcategory-children/".concat(t),method:"PUT",body:a,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}},invalidatesTags:["SubCategoryChildren","SingleSubCategoryChildren","SubCategoryChildLimit"]}),deleteSubCategoryChildren:e.mutation({query:e=>({url:"/subcategory-children/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategoryChildLimit"]})})}),{useGetAllSubCategoryChildrenQuery:l,useGetFilterSubCategoryChildrenQuery:i,useGetAllSubCategoryChildrenByPageQuery:s,useDeleteSubCategoryChildrenMutation:o,useAddSubCategoryChildrenMutation:n,useUpdateSubCategoryChildrenMutation:d,useGetSingleSubCategoryChildrenQuery:c}=r},86892:(e,t,a)=>{a.d(t,{PC:()=>i,cm:()=>o,iI:()=>s,me:()=>d,sl:()=>l,wZ:()=>n});const r=a(60470).apiSlice.injectEndpoints({tagTypes:["SubCategory","SingleSubCategory"],endpoints:e=>({getAllSubCategory:e.query({query:()=>({url:"/subcategory",method:"GET"}),providesTags:["SubCategory"]}),getFilterSubCategory:e.query({query:e=>({url:"/subcategory/filter?".concat(e),method:"GET"}),providesTags:["SubCategory"]}),getSingleSubCategory:e.query({query:e=>({url:"/subcategory/".concat(e),method:"GET"}),invalidatesTags:["SubCategory"],providesTags:["SingleSubCategory"]}),addSubCategory:e.mutation({query:e=>({url:"/subcategory",method:"POST",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]}),updateSubCategory:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/subcategory/".concat(t),method:"PUT",body:a,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}},invalidatesTags:["SubCategory","SingleSubCategory"]}),deleteSubCategory:e.mutation({query:e=>({url:"/subcategory/".concat(e),method:"DELETE",body:e,headers:{Authorization:JSON.parse(localStorage.getItem("auth")).accessToken}}),invalidatesTags:["SubCategory"]})})}),{useGetAllSubCategoryQuery:l,useGetFilterSubCategoryQuery:i,useDeleteSubCategoryMutation:s,useAddSubCategoryMutation:o,useUpdateSubCategoryMutation:n,useGetSingleSubCategoryQuery:d}=r},74047:(e,t,a)=>{a.d(t,{Z:()=>i});a(72791);var r=a(56355),l=a(80184);const i=e=>{let{sizes:t}=e;return(0,l.jsx)("div",{className:"d-flex mt-4 justify-content-center",children:(0,l.jsxs)("label",{htmlFor:"file-upload",className:"d-flex flex-column align-items-center border justify-content-center",style:{height:"180px",width:"360px",display:"block",cursor:"pointer"},children:[(0,l.jsx)(r.Qvc,{size:35,style:{color:"green"}}),(0,l.jsx)("p",{style:{color:"#0CB363",fontWeight:"bold",marginBottom:"0px",fontSize:"1rem"},children:"Choose file to upload"}),(0,l.jsx)("span",{style:{color:"#ccc"},children:"Allowed JPG, JPEG, PNG and GIF"}),(0,l.jsxs)("span",{style:{color:"#ccc"},children:["File must be less than ",(0,l.jsx)("span",{style:{color:"#afafaf"},children:"2 MB"})]}),(0,l.jsxs)("span",{style:{color:"#0CB363"},children:["Size: ",t]})]})})}},15371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var r=a(78983),l=a(72791),i=a(57689),s=a(9085),o=a(42439),n=a(24846),d=a(41418),c=a.n(d),u=a(52007),g=a.n(u),h=a(80184);const y={type:g().string,tooltip:g().bool,as:g().elementType},m=l.forwardRef(((e,t)=>{let{as:a="div",className:r,type:l="valid",tooltip:i=!1,...s}=e;return(0,h.jsx)(a,{...s,ref:t,className:c()(r,"".concat(l,"-").concat(i?"tooltip":"feedback"))})}));m.displayName="Feedback",m.propTypes=y;const b=m,p=l.createContext({});var x=a(10162);const f=l.forwardRef(((e,t)=>{let{id:a,bsPrefix:r,className:i,type:s="checkbox",isValid:o=!1,isInvalid:n=!1,as:d="input",...u}=e;const{controlId:g}=(0,l.useContext)(p);return r=(0,x.vE)(r,"form-check-input"),(0,h.jsx)(d,{...u,ref:t,type:s,id:a||g,className:c()(i,r,o&&"is-valid",n&&"is-invalid")})}));f.displayName="FormCheckInput";const C=f,v=l.forwardRef(((e,t)=>{let{bsPrefix:a,className:r,htmlFor:i,...s}=e;const{controlId:o}=(0,l.useContext)(p);return a=(0,x.vE)(a,"form-check-label"),(0,h.jsx)("label",{...s,ref:t,htmlFor:i||o,className:c()(r,a)})}));v.displayName="FormCheckLabel";const S=v;var j=a(11701);const N=l.forwardRef(((e,t)=>{let{id:a,bsPrefix:r,bsSwitchPrefix:i,inline:s=!1,reverse:o=!1,disabled:n=!1,isValid:d=!1,isInvalid:u=!1,feedbackTooltip:g=!1,feedback:y,feedbackType:m,className:f,style:v,title:N="",type:T="checkbox",label:F,children:E,as:I="input",...k}=e;r=(0,x.vE)(r,"form-check"),i=(0,x.vE)(i,"form-switch");const{controlId:w}=(0,l.useContext)(p),q=(0,l.useMemo)((()=>({controlId:a||w})),[w,a]),L=!E&&null!=F&&!1!==F||(0,j.XW)(E,S),P=(0,h.jsx)(C,{...k,type:"switch"===T?"checkbox":T,ref:t,isValid:d,isInvalid:u,disabled:n,as:I});return(0,h.jsx)(p.Provider,{value:q,children:(0,h.jsx)("div",{style:v,className:c()(f,L&&r,s&&"".concat(r,"-inline"),o&&"".concat(r,"-reverse"),"switch"===T&&i),children:E||(0,h.jsxs)(h.Fragment,{children:[P,L&&(0,h.jsx)(S,{title:N,children:F}),y&&(0,h.jsx)(b,{type:m,tooltip:g,children:y})]})})})}));N.displayName="FormCheck";const T=Object.assign(N,{Input:C,Label:S});a(42391);const F=l.forwardRef(((e,t)=>{let{bsPrefix:a,type:r,size:i,htmlSize:s,id:o,className:n,isValid:d=!1,isInvalid:u=!1,plaintext:g,readOnly:y,as:m="input",...b}=e;const{controlId:f}=(0,l.useContext)(p);return a=(0,x.vE)(a,"form-control"),(0,h.jsx)(m,{...b,type:r,size:s,ref:t,readOnly:y,id:o||f,className:c()(n,g?"".concat(a,"-plaintext"):a,i&&"".concat(a,"-").concat(i),"color"===r&&"".concat(a,"-color"),d&&"is-valid",u&&"is-invalid")})}));F.displayName="FormControl";const E=Object.assign(F,{Feedback:b}),I=l.forwardRef(((e,t)=>{let{className:a,bsPrefix:r,as:l="div",...i}=e;return r=(0,x.vE)(r,"form-floating"),(0,h.jsx)(l,{ref:t,className:c()(a,r),...i})}));I.displayName="FormFloating";const k=I,w=l.forwardRef(((e,t)=>{let{controlId:a,as:r="div",...i}=e;const s=(0,l.useMemo)((()=>({controlId:a})),[a]);return(0,h.jsx)(p.Provider,{value:s,children:(0,h.jsx)(r,{...i,ref:t})})}));w.displayName="FormGroup";const q=w;var L=a(2677);const P=l.forwardRef(((e,t)=>{let{as:a="label",bsPrefix:r,column:i=!1,visuallyHidden:s=!1,className:o,htmlFor:n,...d}=e;const{controlId:u}=(0,l.useContext)(p);r=(0,x.vE)(r,"form-label");let g="col-form-label";"string"===typeof i&&(g="".concat(g," ").concat(g,"-").concat(i));const y=c()(o,r,s&&"visually-hidden",i&&g);return n=n||u,i?(0,h.jsx)(L.Z,{ref:t,as:"label",className:y,htmlFor:n,...d}):(0,h.jsx)(a,{ref:t,className:y,htmlFor:n,...d})}));P.displayName="FormLabel";const G=P,O=l.forwardRef(((e,t)=>{let{bsPrefix:a,className:r,id:i,...s}=e;const{controlId:o}=(0,l.useContext)(p);return a=(0,x.vE)(a,"form-range"),(0,h.jsx)("input",{...s,type:"range",ref:t,className:c()(r,a),id:i||o})}));O.displayName="FormRange";const z=O,A=l.forwardRef(((e,t)=>{let{bsPrefix:a,size:r,htmlSize:i,className:s,isValid:o=!1,isInvalid:n=!1,id:d,...u}=e;const{controlId:g}=(0,l.useContext)(p);return a=(0,x.vE)(a,"form-select"),(0,h.jsx)("select",{...u,size:i,ref:t,className:c()(s,a,r&&"".concat(a,"-").concat(r),o&&"is-valid",n&&"is-invalid"),id:d||g})}));A.displayName="FormSelect";const R=A,U=l.forwardRef(((e,t)=>{let{bsPrefix:a,className:r,as:l="small",muted:i,...s}=e;return a=(0,x.vE)(a,"form-text"),(0,h.jsx)(l,{...s,ref:t,className:c()(r,a,i&&"text-muted")})}));U.displayName="FormText";const V=U,D=l.forwardRef(((e,t)=>(0,h.jsx)(T,{...e,ref:t,type:"switch"})));D.displayName="Switch";const M=Object.assign(D,{Input:T.Input,Label:T.Label}),Z=l.forwardRef(((e,t)=>{let{bsPrefix:a,className:r,children:l,controlId:i,label:s,...o}=e;return a=(0,x.vE)(a,"form-floating"),(0,h.jsxs)(q,{ref:t,className:c()(r,a),controlId:i,...o,children:[l,(0,h.jsx)("label",{htmlFor:i,children:s})]})}));Z.displayName="FloatingLabel";const B=Z,J={_ref:g().any,validated:g().bool,as:g().elementType},Q=l.forwardRef(((e,t)=>{let{className:a,validated:r,as:l="form",...i}=e;return(0,h.jsx)(l,{...i,ref:t,className:c()(a,r&&"was-validated")})}));Q.displayName="Form",Q.propTypes=J;const _=Object.assign(Q,{Group:q,Control:E,Floating:k,Check:T,Switch:M,Label:G,Text:V,Range:z,Select:R,FloatingLabel:B});var W=a(92592),H=a(61134),X=a(86892),Y=a(74047),K=a(73779);const $=e=>{var t;let{data:a,onSubmit:s,addLoading:d,updateSubCategoryLoading:c}=e;const[u,g]=(0,l.useState)(!1),{id:y}=(0,i.UO)(),[m,b]=(0,l.useState)(null),[p,x]=(0,l.useState)(null),{data:f,isLoading:C}=(0,X.sl)(),{register:v,handleSubmit:S,watch:j,setValue:N,formState:{errors:T},control:F}=(0,H.cI)();return(0,l.useEffect)((()=>{if(a){for(const e in a)N(e,a[e]);g(null===a||void 0===a?void 0:a.nicheCategory)}}),[a]),(0,h.jsxs)(r.lx,{encType:"multipart/form-data",onSubmit:S(s),children:[(0,h.jsxs)(r.rb,{className:"g-3",children:[(0,h.jsxs)(r.b7,{xs:12,children:[(0,h.jsxs)("label",{children:["Sub Category ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)("select",{className:"form-select","aria-label":"Default select example",...v("subcategory",{required:!a}),children:null===f||void 0===f||null===(t=f.result)||void 0===t?void 0:t.map((e=>{var t;return(0,h.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e||null===(t=e.parent)||void 0===t?void 0:t.title," > ",null===e||void 0===e?void 0:e.title]},null===e||void 0===e?void 0:e._id)}))})]}),(0,h.jsxs)(r.b7,{xs:12,children:[(0,h.jsxs)("label",{children:["Title ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(r.jO,{type:"text",id:"subcategoryTitleInputField",placeholder:"Enter subcategory children title",defaultValue:null===a||void 0===a?void 0:a.title,"aria-describedby":"subcategoryTitleInputField",...v("title",{required:!a})})]}),(0,h.jsxs)(r.b7,{xs:12,children:[(0,h.jsx)("label",{children:"Description"}),(0,h.jsx)(r.PB,{id:"subcategoryDescriptionTextareaField",placeholder:"Enter Description",defaultValue:null===a||void 0===a?void 0:a.description,"aria-describedby":"subcategoryDescriptionTextareaField",rows:"3",...v("description")})]}),(0,h.jsxs)(r.b7,{xs:12,children:[(0,h.jsx)("label",{className:"w-100",children:"Niche Category "}),(0,h.jsx)(_.Check,{inline:!0,label:"No",name:"group1",value:!1,onClick:()=>g(!1),type:"radio",checked:!0,id:"inline-2",...v("nicheCategory",{required:!a})}),(0,h.jsx)(_.Check,{inline:!0,label:"Yes",name:"group1",value:!0,onClick:()=>g(!0),type:"radio",checked:!0===u,id:"inline-1",...v("nicheCategory",{required:!a})})]}),u&&(0,h.jsx)(r.b7,{xs:12,children:(0,h.jsx)(r.jO,{type:"text",id:"nicheTitleField",label:"Niche Title",placeholder:"Enter Niche Title",defaultValue:null===a||void 0===a?void 0:a.nicheTitle,"aria-describedby":"nicheTitleField",...v("nicheTitle",{required:!a})})}),u&&(0,h.jsxs)(r.b7,{xs:12,children:[(0,h.jsx)("label",{children:"Niche category image"}),(0,h.jsx)(Y.Z,{sizes:"400 x 400"}),(0,h.jsx)(r.jO,{type:"file",id:"file-upload",accept:".jpg, .png, .jpeg, .gif","aria-describedby":"file-upload",style:{border:"none",outline:"none",backgroundColor:"transparent",color:"transparent",width:"0.1px",height:"0.1px",overflow:"hidden",position:"absolute",zIndex:"-1"},...v("image",{required:!a&&{value:!a,message:"Image is required"}}),onChange:e=>function(e){const t=e.target.files[0];t.size>2097152?(x("File size should be less than 2MB"),b(null)):(b(URL.createObjectURL(t)),x(null))}(e)}),p&&(0,h.jsx)("p",{style:{color:"red"},children:p}),m&&(0,h.jsx)(W.Z,{className:"my-2",height:100,src:m,alt:"Preview Image"}),(0,h.jsx)("br",{}),(null===a||void 0===a?void 0:a.image)&&(0,h.jsx)(W.Z,{className:"my-2",height:100,src:null===a||void 0===a?void 0:a.image})]})]}),(0,h.jsxs)("div",{className:"text-end",children:[(0,h.jsx)(K.Z,{}),(0,h.jsx)(r.u5,{type:"submit",color:"success",className:"mt-3",children:d||c?"Loading":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.Z,{icon:o.q,className:"me-2"}),y?"Update":"Save"]})})]})]})};var ee=a(21456),te=a(43034),ae=a(39432);const re=()=>{const{id:e}=(0,i.UO)(),t=(0,i.s0)(),{data:a,getLoading:o}=(0,ee.UO)(e),[n,{isLoading:d,isSuccess:c,isError:u}]=(0,ee.c8)(),[g,{isLoading:y,isSuccess:m,isError:b}]=(0,ee._5)();return(0,l.useEffect)((()=>{u&&s.Am.error("Failed To Updated"),b&&s.Am.error("Failed To Updated")}),[u,b]),(0,l.useEffect)((()=>{c&&t(-1),m&&t(-1)}),[m,c]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(r.rb,{children:(0,h.jsx)(r.b7,{xs:12,children:(0,h.jsxs)(r.xH,{className:"mb-4",children:[(0,h.jsx)(ae.Z,{title:e?"Update subcategory children":"Add subcategory children"}),(0,h.jsx)(r.sl,{children:o?(0,h.jsx)(te.Z,{}):(0,h.jsx)($,{addLoading:d,updateSubCategoryLoading:y,data:null===a||void 0===a?void 0:a.result,onSubmit:t=>{const a=new FormData;let r=null;t.image&&(r=t.image[0]),r&&a.append("image",r),t.title&&a.append("title",t.title),t.description&&a.append("description",t.description),t.nicheCategory&&a.append("nicheCategory",t.nicheCategory),t.subcategory&&a.append("subcategory",t.subcategory),t.nicheTitle&&a.append("nicheTitle",t.nicheTitle),e?g({id:e,data:a}):n(a)}})})]})})})})}},11701:(e,t,a)=>{a.d(t,{Ed:()=>i,UI:()=>l,XW:()=>s});var r=a(72791);function l(e,t){let a=0;return r.Children.map(e,(e=>r.isValidElement(e)?t(e,a++):e))}function i(e,t){let a=0;r.Children.forEach(e,(e=>{r.isValidElement(e)&&t(e,a++)}))}function s(e,t){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===t))}},42391:e=>{var t=function(){};e.exports=t}}]);
//# sourceMappingURL=5371.53acde59.chunk.js.map