{"version":3,"file":"static/js/9815.a89bd2d6.chunk.js","mappings":"mNAYA,MAkFA,EAlFyBA,KAEvB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,OACRC,GAAkB,UAAEC,EAAS,QAAEC,EAAO,MAAEC,EAAK,UAAEC,KAAeC,EAAAA,EAAAA,MAC/DC,GAAWC,EAAAA,EAAAA,OACVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,YAC5BC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,KAGzCG,KAAMC,EACNb,UAAWc,EACXb,QAASc,IACPC,EAAAA,EAAAA,IAA+BnB,IAGjCoB,GACEjB,UAAWkB,EAAejB,QAASkB,EAAahB,UAAWiB,KAC3DC,EAAAA,EAAAA,MA2CJ,OAdAC,EAAAA,EAAAA,YAAU,KAAO,IAADC,EACdtB,GAAWuB,EAAAA,GAAMtB,OAAW,OAALA,QAAK,IAALA,GAAW,QAANqB,EAALrB,EAAOU,YAAI,IAAAW,OAAN,EAALA,EAAaE,UAAW,+BAC/CN,GAAeK,EAAAA,GAAMtB,MAAM,gCAAgC,GAC1D,CAACD,EAASkB,KAEbG,EAAAA,EAAAA,YAAU,KACRnB,GAAaE,GAAU,GACvBe,GAAiBf,GAAU,EAAE,GAC5B,CAACF,EAAWiB,KAEfE,EAAAA,EAAAA,YAAU,KAAO,IAADI,EACdf,EAAuB,OAAVE,QAAU,IAAVA,GAAgB,QAANa,EAAVb,EAAYD,YAAI,IAAAc,OAAN,EAAVA,EAAkBC,KAAK,GACnC,CAACd,KAGFe,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACIhB,GAcAc,EAAAA,EAAAA,KAACG,EAAAA,EAAO,KAbRH,EAAAA,EAAAA,KAACI,EAAAA,EAAe,CACdC,SA5CwBrB,IAAU,IAADsB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACvC,MAAMC,EAAQ5B,EAAK4B,MAAM,GACnBC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASH,GACN,QAAnBN,EAAItB,EAAKgC,kBAAU,IAAAV,GAAfA,EAAiBW,OACnBJ,EAASE,OAAO,aAAcG,KAAKC,UAAyB,QAAhBZ,EAACvB,EAAKgC,kBAAU,IAAAT,OAAA,EAAfA,EAAiBU,QAC1C,QAAtBT,EAAIxB,EAAKoC,qBAAa,IAAAZ,GAAlBA,EAAoBS,OACtBJ,EAASE,OAAO,gBAAiBG,KAAKC,UAA4B,QAAnBV,EAACzB,EAAKoC,qBAAa,IAAAX,OAAA,EAAlBA,EAAoBQ,QAC1C,QAA5BP,EAAI1B,EAAKqC,2BAAmB,IAAAX,GAAxBA,EAA0BO,OAC5BJ,EAASE,OAAO,sBAAuBG,KAAKC,UAAkC,QAAzBR,EAAC3B,EAAKqC,2BAAmB,IAAAV,OAAA,EAAxBA,EAA0BM,QAE9EjC,EAAKsC,MAAMT,EAASE,OAAO,OAAQ/B,EAAKsC,MACxCtC,EAAKuC,SAASV,EAASE,OAAO,UAAW/B,EAAKuC,SAC9CvC,EAAKwC,kBAAkBX,EAASE,OAAO,mBAAoBG,KAAKC,UAAUnC,EAAKwC,mBAC/ExC,EAAKyC,SAASZ,EAASE,OAAO,UAAW/B,EAAKyC,SAC9C9C,GAAOkC,EAASE,OAAO,cAAepC,GACtCG,GAAW+B,EAASE,OAAO,OAAQjC,GAEnCb,EACFoB,EAAoB,CAAEpB,GAAIA,EAAI4C,SAAUA,IAExC1C,EAAiB0C,GAEnBa,QAAQC,IAAI3C,EAAK,EAsBX4C,WAAYxD,GAAakB,EACzBuC,MAAO,qBACP5C,WAAsB,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAYD,KACxB8C,WAAY,aACZC,eAAe,EACfpD,MAAOA,EACPC,SAAUA,EACVE,UAAWA,EACXC,aAAcA,KAKjB,C","sources":["views/desktop-banner/add-desktop-banner/AddDesktopBanner.jsx"],"sourcesContent":["/* eslint-disable prettier/prettier */\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  useAddDesktopBannerMutation,\n  useGetSingleDesktopBannerQuery,\n  useUpdateDesktopBannerMutation,\n} from \"src/redux/banner/bannerApi\";\nimport AddBannerParent from \"src/ui/banner/AddBannerParentForm\";\nimport Loading from \"src/ui/Loading\";\n\nconst AddDesktopBanner = () => {\n  // add desktop banner hook\n  const { id } = useParams();\n  const [addDesktopBanner, { isLoading, isError, error, isSuccess }] = useAddDesktopBannerMutation();\n  const navigate = useNavigate();\n  const [color, setColor] = useState(\"#000000\");\n  const [slugValue, setSlugValue] = useState(\"\");\n\n  const {\n    data: bannerData,\n    isLoading: getLoading,\n    isError: getError,\n  } = useGetSingleDesktopBannerQuery(id);\n\n  const [\n    updateDesktopBanner,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess },\n  ] = useUpdateDesktopBannerMutation();\n\n  // hande add desktop banner\n  const handleAddDesktopBanner = (data) => {\n    const image = data.image[0];\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    if (data.categories?.value)\n      formData.append(\"categories\", JSON.stringify(data.categories?.value));\n    if (data.subCategories?.value)\n      formData.append(\"subCategories\", JSON.stringify(data.subCategories?.value));\n    if (data.subCategoryChildren?.value)\n      formData.append(\"subCategoryChildren\", JSON.stringify(data.subCategoryChildren?.value));\n\n    if (data.name) formData.append(\"name\", data.name);\n    if (data.product) formData.append(\"product\", data.product);\n    if (data.campaignProducts) formData.append(\"campaignProducts\", JSON.stringify(data.campaignProducts));\n    if (data.related) formData.append(\"related\", data.related);\n    if (color) formData.append(\"bannerColor\", color);\n    if (slugValue) formData.append(\"slug\", slugValue);\n\n    if (id) {\n      updateDesktopBanner({ id: id, formData: formData });\n    } else {\n      addDesktopBanner(formData);\n    }\n    console.log(data)\n  };\n\n  useEffect(() => {\n    isError && toast.error(error?.data?.message || \"Desktop banner added failed\");\n    updateError && toast.error(\"Desktop banner updated failed\");\n  }, [isError, updateError]);\n\n  useEffect(() => {\n    isSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [isSuccess, updateSuccess]);\n\n  useEffect(() => {\n    setSlugValue(bannerData?.data?.slug)\n  }, [bannerData]);\n\n  return (\n    <>\n      {!getLoading ? (\n        <AddBannerParent\n          onSubmit={handleAddDesktopBanner}\n          addLoading={isLoading || updateLoading}\n          title={\"Add Desktop Banner\"}\n          bannerData={bannerData?.data}\n          bannerSize={\"1280 x 570\"}\n          desktopBanner={true}\n          color={color}\n          setColor={setColor}\n          slugValue={slugValue}\n          setSlugValue={setSlugValue}\n        />\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n};\n\nexport default AddDesktopBanner;\n"],"names":["AddDesktopBanner","id","useParams","addDesktopBanner","isLoading","isError","error","isSuccess","useAddDesktopBannerMutation","navigate","useNavigate","color","setColor","useState","slugValue","setSlugValue","data","bannerData","getLoading","getError","useGetSingleDesktopBannerQuery","updateDesktopBanner","updateLoading","updateError","updateSuccess","useUpdateDesktopBannerMutation","useEffect","_error$data","toast","message","_bannerData$data","slug","_jsx","_Fragment","children","Loading","AddBannerParent","onSubmit","_data$categories","_data$categories2","_data$subCategories","_data$subCategories2","_data$subCategoryChil","_data$subCategoryChil2","image","formData","FormData","append","categories","value","JSON","stringify","subCategories","subCategoryChildren","name","product","campaignProducts","related","console","log","addLoading","title","bannerSize","desktopBanner"],"sourceRoot":""}