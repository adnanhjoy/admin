"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[7831],{39796:(e,a,t)=>{t.d(a,{ZO:()=>d,bQ:()=>i,ox:()=>n,t1:()=>s,vu:()=>u});const r=t(61347).apiSlice.injectEndpoints({tagTypes:["Manufacture","SingleManufacture"],endpoints:e=>({getAllManufacture:e.query({query:()=>({url:"/manufacturer",method:"GET"}),providesTags:["Manufacture"]}),getSingleManufacture:e.query({query:e=>({url:"/manufacturer/".concat(e),method:"GET"}),invalidatesTags:["Manufacture"],providesTags:["SingleManufacture"]}),addManufacture:e.mutation({query:e=>({url:"/manufacturer",method:"POST",body:e}),invalidatesTags:["Manufacture"]}),updateManufacture:e.mutation({query:e=>{let{id:a,data:t}=e;return{url:"/manufacturer/".concat(a),method:"PUT",body:t}},invalidatesTags:["Manufacture","SingleManufacture"]}),deleteBrand:e.mutation({query:e=>({url:"/manufacturer/".concat(e),method:"DELETE",body:e}),invalidatesTags:["Manufacture"]})})}),{useGetAllManufactureQuery:n,useDeleteBrandMutation:i,useAddManufactureMutation:u,useUpdateManufactureMutation:d,useGetSingleManufactureQuery:s}=r},7831:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var r=t(93946),n=t(65043),i=t(73216),u=t(42145),d=t(27166),s=t(6145),l=t(33637),c=t(24858),o=t(94404),m=t(70579);const f=e=>{var a,t,n,i;const{register:u,handleSubmit:f,watch:p,formState:{errors:g},control:x}=(0,c.mN)();return(0,m.jsxs)(r.qI,{onSubmit:f(e.onSubmit),children:[(0,m.jsxs)(r.sK,{className:"g-3",children:[(0,m.jsx)(r.UF,{xs:12,children:(0,m.jsx)(r.OG,{type:"text",id:"manufacturerNameInputField",label:"Name",placeholder:"Enter Manufacturer Name",defaultValue:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.name,"aria-describedby":"manufacturerNameInputField",...u("name",{required:null===e||void 0===e||!e.data})})}),(0,m.jsx)(r.UF,{xs:12,children:(0,m.jsx)(r.Im,{id:"manufacturerDescriptionTextareaField",label:"Description",placeholder:"Enter Description",defaultValue:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.description,"aria-describedby":"manufacturerDescriptionTextareaField",rows:"3",text:"Manufacturer description must be within 1000 words.",...u("description",{required:null===e||void 0===e||!e.data})})}),(0,m.jsx)(r.UF,{xs:12,children:(0,m.jsx)(r.OG,{type:"file",id:"manufacturerImageInputField",label:"Image",...u("image")})}),(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image)&&(0,m.jsx)(l.A,{fluid:!0,className:"my-2",style:{height:"8rem",width:"fit-content"},src:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.image})]}),(0,m.jsxs)("div",{className:"text-end",children:[(0,m.jsx)(o.A,{}),(0,m.jsxs)(r.Q_,{type:"submit",color:"primary",className:"mt-3",children:[(0,m.jsx)(s.A,{icon:d.x,className:"me-2"}),null!==e&&void 0!==e&&e.isLoading?"Loading..":"Save"]})]})]})};var p=t(39796);const g=()=>{const{id:e}=(0,i.g)(),[a,t]=(0,n.useState)(!0),{data:d}=(0,p.t1)(e,{skip:a}),[s,{isLoading:l,isSuccess:c,isError:o}]=(0,p.ZO)(),[g,{isLoading:x,isSuccess:h,isError:v}]=(0,p.vu)();(0,n.useEffect)((()=>{e&&t(!1)}),[e]);const M=(0,i.Zp)();return(0,n.useEffect)((()=>{h&&M(-1),c&&M(-1)}),[c,h]),(0,n.useEffect)((()=>{u.oR.dismiss(),v&&u.oR.error("Manufacturer added failed"),o&&u.oR.error("Manufacturer updated")}),[v,o]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.sK,{children:(0,m.jsx)(r.UF,{xs:12,children:(0,m.jsxs)(r.E$,{className:"mb-4",children:[(0,m.jsx)(r.V0,{children:(0,m.jsxs)("strong",{children:[e?"Edit":"Add"," Brand"]})}),(0,m.jsx)(r.W6,{children:(0,m.jsx)(f,{isLoading:l||x,data:null===d||void 0===d?void 0:d.result[0],onSubmit:a=>{const t=a.image[0],r=new FormData;r.append("image",t),a.name&&r.append("name",a.name),a.description&&r.append("description",a.description),e?s({id:e,data:r}):g(r)}})})]})})})})}}}]);
//# sourceMappingURL=7831.e0576e59.chunk.js.map