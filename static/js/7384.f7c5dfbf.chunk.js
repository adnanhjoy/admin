"use strict";(self.webpackChunkmarcella=self.webpackChunkmarcella||[]).push([[7384],{18497:(e,a,t)=>{t.d(a,{BM:()=>s,RA:()=>n,a8:()=>u,m6:()=>d,rQ:()=>i});const r=t(60470).apiSlice.injectEndpoints({tagTypes:["Manufacture","SingleManufacture"],endpoints:e=>({getAllManufacture:e.query({query:()=>({url:"/manufacturer",method:"GET"}),providesTags:["Manufacture"]}),getSingleManufacture:e.query({query:e=>({url:"/manufacturer/".concat(e),method:"GET"}),invalidatesTags:["Manufacture"],providesTags:["SingleManufacture"]}),addManufacture:e.mutation({query:e=>({url:"/manufacturer",method:"POST",body:e}),invalidatesTags:["Manufacture"]}),updateManufacture:e.mutation({query:e=>{let{id:a,data:t}=e;return{url:"/manufacturer/".concat(a),method:"PUT",body:t}},invalidatesTags:["Manufacture","SingleManufacture"]}),deleteBrand:e.mutation({query:e=>({url:"/manufacturer/".concat(e),method:"DELETE",body:e}),invalidatesTags:["Manufacture"]})})}),{useGetAllManufactureQuery:n,useDeleteBrandMutation:i,useAddManufactureMutation:u,useUpdateManufactureMutation:d,useGetSingleManufactureQuery:s}=r},47384:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var r=t(78983),n=t(72791),i=t(57689),u=t(9085),d=t(42439),s=t(24846),l=t(92592),c=t(61134),o=t(73779),m=t(80184);const f=e=>{var a,t,n,i;const{register:u,handleSubmit:f,watch:p,formState:{errors:x},control:g}=(0,c.cI)();return(0,m.jsxs)(r.lx,{onSubmit:f(e.onSubmit),children:[(0,m.jsxs)(r.rb,{className:"g-3",children:[(0,m.jsx)(r.b7,{xs:12,children:(0,m.jsx)(r.jO,{type:"text",id:"manufacturerNameInputField",label:"Name",placeholder:"Enter Manufacturer Name",defaultValue:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.name,"aria-describedby":"manufacturerNameInputField",...u("name",{required:null===e||void 0===e||!e.data})})}),(0,m.jsx)(r.b7,{xs:12,children:(0,m.jsx)(r.PB,{id:"manufacturerDescriptionTextareaField",label:"Description",placeholder:"Enter Description",defaultValue:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.description,"aria-describedby":"manufacturerDescriptionTextareaField",rows:"3",text:"Manufacturer description must be within 1000 words.",...u("description",{required:null===e||void 0===e||!e.data})})}),(0,m.jsx)(r.b7,{xs:12,children:(0,m.jsx)(r.jO,{type:"file",id:"manufacturerImageInputField",label:"Image",...u("image")})}),(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image)&&(0,m.jsx)(l.Z,{fluid:!0,className:"my-2",style:{height:"8rem",width:"fit-content"},src:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.image})]}),(0,m.jsxs)("div",{className:"text-end",children:[(0,m.jsx)(o.Z,{}),(0,m.jsxs)(r.u5,{type:"submit",color:"primary",className:"mt-3",children:[(0,m.jsx)(s.Z,{icon:d.q,className:"me-2"}),null!==e&&void 0!==e&&e.isLoading?"Loading..":"Save"]})]})]})};var p=t(18497);const x=()=>{const{id:e}=(0,i.UO)(),[a,t]=(0,n.useState)(!0),{data:d}=(0,p.BM)(e,{skip:a}),[s,{isLoading:l,isSuccess:c,isError:o}]=(0,p.m6)(),[x,{isLoading:g,isSuccess:h,isError:v}]=(0,p.a8)();(0,n.useEffect)((()=>{e&&t(!1)}),[e]);const b=(0,i.s0)();return(0,n.useEffect)((()=>{h&&b(-1),c&&b(-1)}),[c,h]),(0,n.useEffect)((()=>{u.Am.dismiss(),v&&u.Am.error("Manufacturer added failed"),o&&u.Am.error("Manufacturer updated")}),[v,o]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.rb,{children:(0,m.jsx)(r.b7,{xs:12,children:(0,m.jsxs)(r.xH,{className:"mb-4",children:[(0,m.jsx)(r.bn,{children:(0,m.jsxs)("strong",{children:[e?"Edit":"Add"," Brand"]})}),(0,m.jsx)(r.sl,{children:(0,m.jsx)(f,{isLoading:l||g,data:null===d||void 0===d?void 0:d.result[0],onSubmit:a=>{const t=a.image[0],r=new FormData;r.append("image",t),a.name&&r.append("name",a.name),a.description&&r.append("description",a.description),e?s({id:e,data:r}):x(r)}})})]})})})})}}}]);
//# sourceMappingURL=7384.f7c5dfbf.chunk.js.map