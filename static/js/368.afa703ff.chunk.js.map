{"version":3,"file":"static/js/368.afa703ff.chunk.js","mappings":"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","sources":["redux/flashSaleType/flashSaleTypeApi.js","ui/ImageLabel.jsx","views/flashSale/flash-sale-types/addTypes/AddFlashSaleTypes.jsx"],"sourcesContent":["import { apiSlice } from \"../api/apiSlice\";\n\nexport const flashSaleTypesApi = apiSlice.injectEndpoints({\n  tagTypes: [\"AllTypes\", \"SingleTypes\"],\n  endpoints: (builder) => ({\n    //get all  users\n    getAllTypes: builder.query({\n      query: () => ({\n        url: `/flashSale-types`,\n        method: \"GET\",\n      }),\n      providesTags: [\"AllTypes\"],\n    }),\n\n    //get single  users\n    getSingleTypes: builder.query({\n      query: (id) => ({\n        url: `/flashSale-types/${id}`,\n        method: \"GET\",\n      }),\n      providesTags: [\"SingleTypes\"],\n    }),\n\n    // delete users by id\n    deleteSingleTypes: builder.mutation({\n      query: (id) => ({\n        url: `/flashSale-types/${id}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"AllTypes\"],\n    }),\n\n    // delete users by id\n    updateSingleTypes: builder.mutation({\n      query: ({ id, data }) => ({\n        url: `/flashSale-types/${id}`,\n        method: \"PUT\",\n        body: data,\n      }),\n      invalidatesTags: [\"AllTypes\", \"SingleTypes\"],\n    }),\n    // delete users by id\n    addSingleTypes: builder.mutation({\n      query: (data) => ({\n        url: `/flashSale-types`,\n        method: \"POST\",\n        body: data,\n      }),\n      invalidatesTags: [\"AllTypes\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetAllTypesQuery,\n  useGetSingleTypesQuery,\n  useDeleteSingleTypesMutation,\n  useAddSingleTypesMutation,\n  useUpdateSingleTypesMutation,\n} = flashSaleTypesApi;\n","import React from \"react\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\n\nconst ImageLabel = ({ sizes }) => {\n  return (\n    <div className=\"d-flex mt-4 justify-content-center\">\n      <label\n        htmlFor=\"file-upload\"\n        className=\"d-flex flex-column align-items-center border justify-content-center\"\n        style={{ height: \"180px\", width: \"360px\", display: \"block\", cursor: \"pointer\" }}\n      >\n        <FaCloudUploadAlt size={35} style={{ color: \"green\" }} />\n        <p\n          style={{\n            color: \"#0CB363\",\n            fontWeight: \"bold\",\n            marginBottom: \"0px\",\n            fontSize: \"1rem\",\n          }}\n        >\n          Choose file to upload\n        </p>\n        <span style={{ color: \"#ccc\" }}>Allowed JPG, JPEG, PNG and GIF</span>\n        <span style={{ color: \"#ccc\" }}>\n          File must be less than <span style={{ color: \"#afafaf\" }}>2 MB</span>\n        </span>\n        <span style={{ color: \"#0CB363\" }}>Size: {sizes}</span>\n      </label>\n    </div>\n  );\n};\n\nexport default ImageLabel;\n","/* eslint-disable prettier/prettier */\nimport { cilSave } from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport { CButton, CCard, CCardBody, CCardHeader, CCol, CForm, CFormInput } from \"@coreui/react\";\nimport { useEffect, useState } from \"react\";\nimport { Image } from \"react-bootstrap\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  useAddSingleTypesMutation,\n  useGetSingleTypesQuery,\n  useUpdateSingleTypesMutation,\n} from \"src/redux/flashSaleType/flashSaleTypeApi\";\n\nimport CancelButton from \"src/ui/button/CancelButton\";\nimport HeaderBackButton from \"src/ui/button/HeaderBackButton\";\nimport ImageLabel from \"src/ui/ImageLabel\";\nimport Loading from \"src/ui/Loading\";\n\nconst AddFlashSaleTypes = () => {\n  const [sizeInput, setSizeInput] = useState(\"\");\n  const [haveId, setHaveId] = useState(true);\n  const { id } = useParams();\n  const { handleSubmit, register } = useForm();\n  const navigate = useNavigate();\n  const [imagePreview, setImagePreview] = useState(null);\n  const [error, setError] = useState(null);\n\n  const {\n    data: size,\n    isLoading: getLoading,\n    isError: termError,\n    error: termErrorMsg,\n  } = useGetSingleTypesQuery(id, { skip: haveId });\n\n  const [\n    addSingleType,\n    { isLoading: addLoading, isError: addError, isSuccess: addSuccess, error: addMsg },\n  ] = useAddSingleTypesMutation();\n\n  const [\n    updateSingleType,\n    { isLoading: updateLoading, isError: updateError, isSuccess: updateSuccess, error: updateMsg },\n  ] = useUpdateSingleTypesMutation();\n\n  // update or add new term conditions\n  const onSubmit = (data) => {\n    const image = data.image[0];\n    const formData = new FormData();\n    if (sizeInput) formData.append(\"name\", sizeInput);\n    if (image) formData.append(\"image\", image);\n    if (id) {\n      updateSingleType({ id, data: formData });\n    } else {\n      addSingleType(formData);\n    }\n  };\n\n  //default data set\n  useEffect(() => {\n    if (id) {\n      setSizeInput(size?.data?.name);\n    }\n  }, [id, size?.data]);\n\n  useEffect(() => {\n    addError && toast.error(addError?.data?.message);\n    updateError && toast.error(updateError?.data?.message);\n  }, [addError, updateError]);\n\n  useEffect(() => {\n    addSuccess && navigate(-1);\n    updateSuccess && navigate(-1);\n  }, [addSuccess, updateSuccess]);\n\n  useEffect(() => {\n    if (id) {\n      setHaveId(false);\n    }\n  }, [id]);\n\n\n  function handleFileChange(event) {\n    const file = event.target.files[0];\n    if (file.size > 2 * 1024 * 1024) {\n      setError(\"File size should be less than 2MB\");\n      setImagePreview(null);\n    } else {\n      setImagePreview(URL.createObjectURL(file));\n      setError(null);\n    }\n  }\n\n\n  return (\n    <CForm onSubmit={handleSubmit(onSubmit)}>\n      <CCard>\n        <HeaderBackButton title={id ? \"Customize types\" : \"Add types\"} />\n\n        {getLoading ? (\n          <Loading />\n        ) : (\n          <CCardBody>\n            <CCol xs={12}>\n              <label className=\"w-100\">FlashSale Types Name</label>\n              <CFormInput\n                type=\"text\"\n                id=\"titleInputField\"\n                placeholder=\"Enter types name\"\n                aria-describedby=\"titleInputField\"\n                value={sizeInput}\n                onChange={(e) => setSizeInput(e.target.value)}\n              />\n            </CCol>\n            <CCol xs={12}>\n              <label>Flash Image</label>\n              <ImageLabel sizes={'bannerSize'} />\n              <CFormInput\n                type=\"file\"\n                id=\"file-upload\"\n                accept=\".jpg, .png, .jpeg, .gif\"\n                aria-describedby=\"file-upload\"\n                style={{\n                  border: \"none\",\n                  outline: \"none\",\n                  backgroundColor: \"transparent\",\n                  color: \"transparent\",\n                  width: \"0.1px\",\n                  height: \"0.1px\",\n                  overflow: \"hidden\",\n                  position: \"absolute\",\n                  zIndex: \"-1\",\n                }}\n                {...register(\"image\")}\n                onChange={(e) => handleFileChange(e)}\n              />\n              {error && <p style={{ color: \"red\" }}>{error}</p>}\n              {imagePreview && (\n                <Image\n                  fluid\n                  className=\"my-2\"\n                  height={300}\n                  src={imagePreview}\n                  alt=\"Preview Image\"\n                />\n              )}\n\n              <br />\n              {size?.data?.image && (\n                <Image fluid className=\"my-2\" height={300} src={size?.data?.image} />\n              )}\n            </CCol>\n            <div className=\"text-end  \">\n              <CancelButton />\n              <CButton type=\"submit\" color=\"success\" className=\"mt-3 text-white\">\n                <CIcon icon={cilSave} className=\"me-2\" />\n                {updateLoading || addLoading ? \"Loading...\" : id ? \"Update\" : \"Save\"}\n              </CButton>\n            </div>\n          </CCardBody>\n        )}\n      </CCard>\n    </CForm>\n  );\n};\n\nexport default AddFlashSaleTypes;\n"],"names":["flashSaleTypesApi","apiSlice","injectEndpoints","tagTypes","endpoints","builder","getAllTypes","query","url","method","providesTags","getSingleTypes","id","concat","deleteSingleTypes","mutation","invalidatesTags","updateSingleTypes","_ref","data","body","addSingleTypes","useGetAllTypesQuery","useGetSingleTypesQuery","useDeleteSingleTypesMutation","useAddSingleTypesMutation","useUpdateSingleTypesMutation","sizes","_jsx","className","children","_jsxs","htmlFor","style","height","width","display","cursor","FaCloudUploadAlt","size","color","fontWeight","marginBottom","fontSize","AddFlashSaleTypes","_size$data2","_size$data3","sizeInput","setSizeInput","useState","haveId","setHaveId","useParams","handleSubmit","register","useForm","navigate","useNavigate","imagePreview","setImagePreview","error","setError","isLoading","getLoading","isError","termError","termErrorMsg","skip","addSingleType","addLoading","addError","isSuccess","addSuccess","addMsg","updateSingleType","updateLoading","updateError","updateSuccess","updateMsg","useEffect","_size$data","name","_addError$data","_updateError$data","toast","message","CForm","onSubmit","image","formData","FormData","append","CCard","HeaderBackButton","title","Loading","CCardBody","CCol","xs","CFormInput","type","placeholder","value","onChange","e","target","ImageLabel","accept","border","outline","backgroundColor","overflow","position","zIndex","event","file","files","URL","createObjectURL","handleFileChange","Image","fluid","src","alt","CancelButton","CButton","CIcon","icon","cilSave"],"sourceRoot":""}